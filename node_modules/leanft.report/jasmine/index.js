// (c) Copyright 2015 - 2023 Micro Focus or one of its affiliates..

function JasmineReporter(){
    jasmine.getEnv().addReporter(this);
}

JasmineReporter.prototype  = {
    onSuiteStart: null,
    onSuiteDone: null,
    onSpecStart: null,
    onSpecDone: null,
    onDone: null,
    onStart:null,

    _reportProvider : null,

    // jasmine reporter
    jasmineStarted: function(suiteInfo) {
        this.fireEvent("onStart", {info: suiteInfo});
    },

    suiteStarted: function(result) {
        this.fireEvent("onSuiteStart", {name: result.fullName});
    },

    specStarted: function(result) {
        this.fireEvent("onSpecStart", {name: result.description});
    },

    specDone: function(result) {
        this.fireEvent("onSpecDone", {name: result.description, status: result.status});
    },

    suiteDone: function(result) {
        this.fireEvent("onSuiteDone", {name: result.description, status: result.status});
    },

    jasmineDone: function() {
        this.fireEvent("onDone");
    },

    fireEvent: function(eventName, data){
        if(!this[eventName]){
            return;
        }

        this[eventName].call(undefined, data);
    }
};

if(global.__LFT_REPORTER__){
    var reporter = global.__LFT_REPORTER__;
    var jasmineReporter = new JasmineReporter();
    jasmineReporter.onSuiteStart = reporter.onSuiteStart.bind(reporter);
    jasmineReporter.onSuiteDone = reporter.onSuiteDone.bind(reporter);
    jasmineReporter.onSpecStart = reporter.onSpecStart.bind(reporter);
    jasmineReporter.onSpecDone = reporter.onSpecDone.bind(reporter);
    jasmineReporter.onStart = reporter.onStart.bind(reporter);
    jasmineReporter.onDone = reporter.onDone.bind(reporter);
}