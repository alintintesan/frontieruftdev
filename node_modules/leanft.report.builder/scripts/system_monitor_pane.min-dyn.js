function SystemMonitorPane(a){this._cssNames={linkItem:"link-item",};this._dataModel=a;this._paneWrapper=__uiElements.get_wrapper(document.getElementById("system_monitor"));var e=__commonUtils.general.getValue(__dataModel.system_monitor_link_url,__dataModel);if(e&&document.getElementsByClassName("monitor_title").length==0&&typeof monitorData!="undefined"&&monitorData){var d=__uiElements.create_div().addClassNames("monitor_title");var c=__uiElements.get_wrapper(document.createElement("span")).setInnerHTML(monitorData.application).appendTo(d);var b=__uiElements.create_link("####").addClassNames(this._cssNames.linkItem).setInnerHTML(__commonUtils.general.getValue(this._dataModel.system_monitor_link_label,this._dataModel)).setCustomProperty("hostObj",this).setCustomProperty("linkURL",e).setOnClickHandler(this._systemMonitorLinkClickHandler).appendTo(d);this._paneWrapper.e.insertBefore(d.e,this._paneWrapper.e.childNodes[0]);}this._isGraphAdded=false;this._chartPosX=null;__callbackCenter.registerCallback("act_abstract_item_after_activated",this,this._onItemActivated);__callbackCenter.registerCallback("act_test_flow_node_after_activated",this,this._onItemActivated);__callbackCenter.registerCallback("window_onresize",this,this.updateLayout);__callbackCenter.registerCallback("layout_leftpane_after_resize",this,this.updateLayout);__callbackCenter.registerCallback("window_loaded",this,this.updateLayout);}SystemMonitorPane.prototype.addGraph=function(a){nv.addGraph(function(){var b=d3.locale({decimal:__res.get("numberformat_decimal","."),thousands:__res.get("numberformat_thousands",","),grouping:__res.get("numberformat_grouping_size",[3]),currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});__commonUtils._chart=nv.models.lineChart().options({duration:300,useInteractiveGuideline:true});__commonUtils._chart.xAxis.axisLabel(__res.get("xAxisLSM","Time (s)")).tickFormat(b.numberFormat(",.1f")).staggerLabels(true);__commonUtils._chart.yAxis.axisLabel(" ").tickFormat(function(f){if(f==null){return"N/A";}return b.numberFormat(",.2f")(f);});var c=monitorData.runResults;var e=(c.length/7|0)+1;var d=92;d3.select("#system_monitor").append("svg").style("height",d+e*2.6+"%").attr("id","svg_lsm").datum(c).call(__commonUtils._chart);nv.utils.windowResize(__commonUtils._chart.update);return __commonUtils._chart;});nv.addGraph(a);return this;};SystemMonitorPane.prototype._systemMonitorLinkClickHandler=function(){var a=__uiElements.get_custom_prop(this,"linkURL");window.open(a,Math.uuid());return false;};SystemMonitorPane.prototype.show=function(a){if(a){this._paneWrapper.appendTo(a);}return this;};SystemMonitorPane.prototype.updateLayout=function(a){this._paneWrapper.setHeight(a);if(this._isGraphAdded){if(__commonUtils._chart){__commonUtils._chart.update();}nv._drawPosition(nv.positionX,true);}return this;};SystemMonitorPane.prototype.notifyInitialized=function(){this._isGraphAdded=true;this._drawChartPosition();return this;};SystemMonitorPane.prototype._drawChartPosition=function(){if(this._isGraphAdded&&!(this._chartPosX===null)){nv._drawPosition(this._chartPosX);}return this;};SystemMonitorPane.prototype._onItemActivated=function(a,c,b){if(typeof monitorData!="undefined"&&monitorData&&monitorData.startReplayTime){var d=0;if(document.documentMode){d=new Date(b.raw_data.Data.StartTime.replace(/-/g,"/"))-new Date(monitorData.startReplayTime.replace(/-/g,"/"));}else{d=new Date(b.raw_data.Data.StartTime)-new Date(monitorData.startReplayTime);}this._chartPosX=d/1000;}this._drawChartPosition();return this;};