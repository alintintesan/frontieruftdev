function DetailFullCustomDataSection(b,c){this._cssNames={sectionWrapper:"detail-section-wrapper",section:"detail-section",nestedSection:"nested-section",fullCustomDataSection:"full-custom-data-section",layout:"section-layout",captionLabel:"caption-label",additionalCaption:"additional-caption",dataLabel:"data-label",dataContent:"data-content",pairTable:"pair-table",pairEntryName:"entry-name",pairEntryValue:"entry-value",link:"link",enlargedImage:"enlarged-image"};this._sectionData=b;this._sectionUIMetadata=c;this._sectionWrapper=__uiElements.create_div().addClassNames(this._cssNames.sectionWrapper).appendTo(this._sectionUIMetadata.sections);this._enlargedImages=[];this._lazyCallbackKey="cb_detail_fullcustdatasec_"+this._sectionUIMetadata.itemDataKey;var a=new CallbackInfo(this._lazyCallbackKey);a.register(this,this._initialize,"init");__uiViewObjectsCenter.addLazyTask(this._lazyCallbackKey,a);}DetailFullCustomDataSection.prototype.updateUILayout=function(){__uiViewObjectsCenter.forceExecuteLazyTask(this._lazyCallbackKey);this._updateEnlargeImagesLayout();return this;};DetailFullCustomDataSection.prototype._initialize=function(){this._dataSectionId=__commonUtils.general.getValue(this._sectionData.id,this._sectionData);var a=__commonUtils.general.getValue(this._sectionData.nestedSection,this._sectionData);if(a){this._sectionWrapper.addClassNames(this._cssNames.nestedSection);}this._section=__uiElements.create_div().addClassNames(this._cssNames.section,this._cssNames.fullCustomDataSection).appendTo(this._sectionWrapper);this._sectionLayout=__uiElements.create_div().addClassNames(this._cssNames.layout).appendTo(this._section);this._contentTable=__uiElements.create_table().appendTo(this._sectionLayout);this._createRows_caption()._createRows_subcaption()._createRows_dataPairs();return this;};DetailFullCustomDataSection.prototype._getContent=function(b){if(b){var a=__commonUtils.str.normalize(__commonUtils.general.getValue(b.value,b));if(a){var c=__commonUtils.general.getValue(b.isHtml,b);if(!c){a="<pre>"+__commonUtils.str.escape(a)+"</pre>";}}return a;}};DetailFullCustomDataSection.prototype._createRows_caption=function(){var a=this._getContent(__commonUtils.general.getValue(this._sectionData.caption,this._sectionData));if(a){var c=__uiElements.add_table_row(this._contentTable);var b=__uiElements.add_table_cell(c);this._createSearchableElement(this._getUIId("caption"),a).addClassNames(this._cssNames.captionLabel).appendTo(b);}return this;};DetailFullCustomDataSection.prototype._createRows_subcaption=function(){var a=this._getContent(__commonUtils.general.getValue(this._sectionData.subCaption,this._sectionData));if(a){var c=__uiElements.add_table_row(this._contentTable);var b=__uiElements.add_table_cell(c);this._createSearchableElement(this._getUIId("subcaption"),a).addClassNames(this._cssNames.additionalCaption).appendTo(b);}return this;};DetailFullCustomDataSection.prototype._createRows_dataPairs=function(){var j=__commonUtils.array.makeArray(__commonUtils.general.getValue(this._sectionData.pairs,this._sectionData));if(j&&j.length>0){for(var d=0;d<j.length;d++){var g=j[d];var h=this._getContent(__commonUtils.general.getValue(g.label,g));if(h){var f=__uiElements.add_table_row(this._contentTable);var e=__uiElements.add_table_cell(f);this._createSearchableElement(this._getUIId("pair"+(d+1)+"_label"),h).addClassNames(this._cssNames.dataLabel).appendTo(e);}var b=__uiElements.add_table_row(this._contentTable);var a=__uiElements.add_table_cell(b);var c="pair"+(d+1)+"_";if(this._createPairContent_fullContent(g,c,a)){continue;}if(this._createPairContent_table(g,c,a)){continue;}if(this._createPairContent_externalLink(g,c,a)){continue;}if(this._createPairContent_internalLink(g,c,a)){continue;}if(this._createPairContent_compareLink(g,c,a)){continue;}if(this._createPairContent_enlargedImage(g,c,a)){continue;}}}return this;};DetailFullCustomDataSection.prototype._createPairContent_fullContent=function(c,b,a){var d=this._getContent(__commonUtils.general.getValue(c.content,c));if(d){this._createSearchableElement(this._getUIId(b+"content"),d).addClassNames(this._cssNames.dataContent).appendTo(a);return true;}};DetailFullCustomDataSection.prototype._createPairContent_table=function(l,b,a){if(l.table){var n=__commonUtils.array.makeArray(__commonUtils.general.getValue(l.table.entries,l.table));if(n&&n.length>0){var c=__uiElements.create_div().addClassNames(this._cssNames.dataContent).appendTo(a);var m=__uiElements.create_table().addClassNames(this._cssNames.pairTable).appendTo(c);for(var k=0;k<n.length;k++){var d=n[k];var g=this._getContent(__commonUtils.general.getValue(d.name,d));var e=this._getContent(__commonUtils.general.getValue(d.content,d));if(g||e){var i=__uiElements.add_table_row(m);if(g){var h=__uiElements.add_table_cell(i).addClassNames(this._cssNames.pairEntryName);this._createSearchableElement(this._getUIId(b+"table_entry"+(k+1)+"_name"),g).appendTo(h);}if(e){var f;if(g){f=__uiElements.add_table_cell(i);}else{f=__uiElements.add_table_cell(i,{name:"colspan",value:"2"});}f.addClassNames(this._cssNames.pairEntryValue);this._createSearchableElement(this._getUIId(b+"table_entry"+(k+1)+"_content"),e).appendTo(f);}}}return true;}}};DetailFullCustomDataSection.prototype._createPairContent_externalLink=function(g,b,a){if(g.externalLink){var d=__commonUtils.general.getValue(g.externalLink.href,g.externalLink);if(d){var e=__commonUtils.general.getValue(g.externalLink.target,g.externalLink);var h=false;if(e&&e.toLowerCase()=="self"){h=true;}var f=__commonUtils.general.getValue(g.externalLink.linkText,g.externalLink);if(!f){f="LINK";}var c=__uiElements.create_link("####").addClassNames(this._cssNames.link).setInnerHTML(f).setCustomProperty("linkURL",d).setCustomProperty("selfShow",h).setOnClickHandler(function(){var j=__uiElements.get_custom_prop(this,"linkURL");var i=__uiElements.get_custom_prop(this,"selfShow");if(i){location.href=j;}else{window.open(j,Math.uuid());}return false;});this._createSearchableElement(this._getUIId(b+"extlink"),c.e).addClassNames(this._cssNames.dataContent).appendTo(a);return true;}}};DetailFullCustomDataSection.prototype._createPairContent_internalLink=function(h,b,a){if(h.link){var f=__commonUtils.general.getValue(h.link.href,h.link);if(f){var d=__commonUtils.general.getValue(h.link.jsFile,h.link);var c=__commonUtils.general.getValue(h.link.fileExt,h.link);var i=__commonUtils.general.getValue(h.link.paneTitle,h.link);var g=__commonUtils.general.getValue(h.link.linkText,h.link);if(!g){g="LINK";}var e=__uiElements.create_link("####").addClassNames(this._cssNames.link).setInnerHTML(g).setCustomProperty("linkURL",f).setCustomProperty("jsFile",d).setCustomProperty("fileExt",c).setCustomProperty("paneTitle",i).setOnClickHandler(function(){var m=__uiElements.get_custom_prop(this,"linkURL");var j=__uiElements.get_custom_prop(this,"jsFile");if(!j){window.open(m,Math.uuid());}else{var l=__uiElements.get_custom_prop(this,"fileExt");var k=__uiElements.get_custom_prop(this,"paneTitle");__uiElements.show_content_in_float_pane(m,j,l,k);}return false;});this._createSearchableElement(this._getUIId(b+"commonlink"),e.e).addClassNames(this._cssNames.dataContent).appendTo(a);return true;}}};DetailFullCustomDataSection.prototype._createPairContent_compareLink=function(f,c,b){if(f.compareLink){var a=__commonUtils.general.getValue(f.compareLink.location,f.compareLink);if(a){var e=__commonUtils.general.getValue(f.compareLink.linkText,f.compareLink);if(!e){e="LINK";}var d=__uiElements.create_link("####").addClassNames(this._cssNames.link).setInnerHTML(e).setCustomProperty("compareLoc",a).setOnClickHandler(function(){var g=__uiElements.get_custom_prop(this,"compareLoc");__uiElements.show_file_diff_compare_in_float_pane(g);return false;});this._createSearchableElement(this._getUIId(c+"comparelink"),d.e).addClassNames(this._cssNames.dataContent).appendTo(b);return true;}}};DetailFullCustomDataSection.prototype._createPairContent_enlargedImage=function(i,b,a){if(i.enlargedImage){var g=__commonUtils.general.getValue(i.enlargedImage.href,i.enlargedImage);if(g){var h=__commonUtils.general.getValue(i.enlargedImage.width,i.enlargedImage);var f=__commonUtils.general.getValue(i.enlargedImage.height,i.enlargedImage);if(h==0){h=null;}if(f==0){f=null;}var c=__uiElements.create_div().addClassNames(this._cssNames.dataContent).appendTo(a);var d=__uiElements.create_div().addClassNames(this._cssNames.enlargedImage).appendTo(c);var e=new ScaleImage(g,d).setImageAlign("left","top");this._enlargedImages.push({scaleImage:e,specWidth:h,specHeight:f,container:d});return true;}}};DetailFullCustomDataSection.prototype._updateEnlargeImagesLayout=function(){if(this._enlargedImages.length>0){var e=this._sectionWrapper.getWidth()-50;for(var a=0;a<this._enlargedImages.length;a++){var b=this._enlargedImages[a];var d=e;if(b.specWidth&&b.specWidth<d){d=b.specWidth;}var c=b.specHeight;if(!c){var f=b.scaleImage.getWidthHeightRatio();if(f){c=d/f;}else{c=150;}}b.container.setWidth(d).setHeight(c);b.scaleImage.update();}}return this;};DetailFullCustomDataSection.prototype._getUIId=function(a){if(a){var b="item_detail_fullcustdata_section_";if(this._dataSectionId){b+=this._dataSectionId+"_";}b+=a+"_"+this._sectionUIMetadata.itemDataKey;return b;}else{return Math.uuid();}};DetailFullCustomDataSection.prototype._createSearchableElement=function(e,a,d){if(!e){e=Math.uuid();}if(!a){a="";}if(!d){d=this._sectionUIMetadata.searchRankBase+500;}var c={id:e,content:a,rank:d,unmatchHideUIId:this._sectionUIMetadata.searchUnmatchHideUIIds};var b=__fullTextSearchHelper.createSearchableNode(c);__fullTextSearchHelper.addSearchableNodes([b]);return __uiElements.get_wrapper(b);};