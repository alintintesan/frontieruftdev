function TestFlowPane(a){var b=this;this._cssNames={paneWrapper:"test-flow-pane-wrapper",paneHidden:"hidden",pane:"test-flow-pane",tree:"test-flow-tree",expandCollapseAllWrapper:"expandCollapseAllWrapper",link:"link"};this._globalIndent=12;this._maxIndent=0;this._dataModel=a;this._paneWrapper=__uiElements.create_div().addClassNames(this._cssNames.paneWrapper);this._expandCollapseAllWrapper=__uiElements.create_div().addClassNames(this._cssNames.expandCollapseAllWrapper);this._expandAllLink=__uiElements.create_link("####").addClassNames(this._cssNames.link).setInnerHTML(this._dataModel.test_flow_pane_expand_all_label).appendTo(this._expandCollapseAllWrapper);this._collapseAllLink=__uiElements.create_link("####").addClassNames(this._cssNames.link).setInnerHTML(this._dataModel.test_flow_pane_collapse_all_label).appendTo(this._expandCollapseAllWrapper);this._pane=__uiElements.create_div().addClassNames(this._cssNames.pane).appendTo(this._paneWrapper);this._tree=__uiElements.create_div().addClassNames(this._cssNames.tree).appendTo(this._pane);this._topLevelTestFlowNodes=[];this._testFlowNodeCache={};this._highlightNode=null;this._firstNode=null;this._uiCreated=false;this._uiShownBeforeCreate=false;this._isTestFlowUIShowing=false;this._collapseAllLink.setOnClickHandler(function(c){for(i=0;i<b._topLevelTestFlowNodes.length;i++){b._topLevelTestFlowNodes[i].collapseAll();}});this._expandAllLink.setOnClickHandler(function(c){for(i=0;i<b._topLevelTestFlowNodes.length;i++){b._topLevelTestFlowNodes[i].expandAll();}});__callbackCenter.registerCallback("act_funcstrip_navcap_activated",this,function(d,c){if(d=="test_flow"){this._expandCollapseAllWrapper.removeClassNames(this._cssNames.paneHidden);this._paneWrapper.removeClassNames(this._cssNames.paneHidden);this._isTestFlowUIShowing=true;var e;var f=c.getCustomProperty("shared_data");if(f){e=f.highlightItemKey;}if(!e){e=c.getCustomProperty("highlight_flow_tree_node_key");}this.updateTestFlowTree(e);}});__callbackCenter.registerCallback("act_funcstrip_navcap_deactivated",this,function(d,c){if(d=="test_flow"){this._expandCollapseAllWrapper.addClassNames(this._cssNames.paneHidden);this._paneWrapper.addClassNames(this._cssNames.paneHidden);this._isTestFlowUIShowing=false;if(this._highlightNode){var e=this._highlightNode.getNodeDataKey();c.setCustomProperty("highlight_flow_tree_node_key",e);var f=c.getCustomProperty("shared_data");if(f){f.highlightItemKey=e;}this._highlightNode.deactivate();}}});__callbackCenter.registerCallback("act_funcstrip_options_changed",this,function(d){if(!this._paneWrapper.hasClassName(this._cssNames.paneHidden)){var c;if(this._highlightNode){c=this._highlightNode.getNodeDataKey();this._highlightNode.deactivate();}this.loadTree(c,d);}});__callbackCenter.registerCallback("act_test_flow_node_before_activate",this,function(c){if(this._highlightNode&&c!=this._highlightNode){this._highlightNode.deactivate();}});__callbackCenter.registerCallback("act_test_flow_node_after_activated",this,function(c){this._highlightNode=c;});__callbackCenter.registerCallback("act_test_flow_node_after_deactivated",this,function(c){this._highlightNode=null;});__callbackCenter.registerCallback("act_errnavwidget_jumpto",this,function(c){if(this._paneWrapper&&c&&this._testFlowNodeCache){var d=this._testFlowNodeCache[c];if(d){d.activate();var e=d.getOffsetTop();if(e<0){e=0;}this._paneWrapper.setScrollTop(e);}}});__callbackCenter.registerCallback("act_search_text_changed",this,function(){var c;if(this._highlightNode){c=this._highlightNode.getNodeDataKey();}if(this._isTestFlowUIShowing){this.updateTestFlowTree(c);}});}TestFlowPane.prototype.show=function(b,a){if(b){this._expandCollapseAllWrapper.appendTo(b);this._paneWrapper.appendTo(b);this._createUIViewObjects();if(a){this._paneWrapper.addClassNames(this._cssNames.paneHidden);this._expandCollapseAllWrapper.addClassNames(this._cssNames.paneHidden);}}return this;};TestFlowPane.prototype._createUIViewObjects=function(){var g=__commonUtils.array.makeArray(__commonUtils.general.getValue(this._dataModel.testflow_nodes,this._dataModel));var f=0;if(g&&g.length>0){for(var b=0;b<g.length;b++){var d=new TestFlowTreeNode(g[b],null,1,this._globalIndent);this._topLevelTestFlowNodes.push(d);var a=d.getAllNodes();f+=d.getNodeNumber();for(var c=0;c<a.length;c++){if(!a[c].isAvailable()){continue;}if(a[c]._nodeIndent>this._maxIndent){this._maxIndent=a[c]._nodeIndent;}var e=a[c].getNodeDataKey();this._testFlowNodeCache[e]=a[c];__fullTextSearchHelper._nodeTreeCache[e]=a[c];}d.show(this._tree);d.expandAll();}}__uiViewObjectsCenter.numberofAllNodes=f;this._uiCreated=true;if(this._uiShownBeforeCreate){this.updateTestFlowTree();}return this;};TestFlowPane.prototype.updateTestFlowTree=function(d){if(!this._uiCreated){this._uiShownBeforeCreate=true;return this;}if(this._firstNode){this._firstNode.setFirstNode(false);this._firstNode=null;}if(this._topLevelTestFlowNodes){for(var e=0;e<this._topLevelTestFlowNodes.length;e++){this._topLevelTestFlowNodes[e].syncSearchHiddenStatus();if(!this._firstNode){var b=this._topLevelTestFlowNodes[e].getFirstVisibleNode();if(b){this._firstNode=b;this._firstNode.setFirstNode(true);}}}}if(!this._firstNode){var c=null;if(this._testFlowNodeCache&&d){c=this._testFlowNodeCache[d];}if(c){c.deactivate();}}else{var c=null;if(this._testFlowNodeCache&&d){c=this._testFlowNodeCache[d];}if(!c||!c.isVisible()||!c.isSearchMatch()){var a;if(this._topLevelTestFlowNodes){for(var e=0;e<this._topLevelTestFlowNodes.length;e++){a=this._topLevelTestFlowNodes[e].getFirstSearchMatchNode();if(a){c=a;break;}}}if(!a){c=this._firstNode;}}if(c){c.activate();c.expandAll();var h=c.getOffsetTop();if(h<0){h=0;}this._paneWrapper.setScrollTop(h);}}if(this._testFlowNodeCache){for(var f in this._testFlowNodeCache){var g=this._testFlowNodeCache[f];if(g.isVisible()){g.updateNodeStyles();}}}__callbackCenter.invokeCallbacks("act_test_flow_node_tree_loaded",this,this._topLevelTestFlowNodes,this._highlightNode,this._highlightNode?this._highlightNode.getNodeDataKey():null);return this;};function TestFlowTreeNode(g,k,j,c){this._cssNames={node:"tree-node",statusExpanded:"status-expanded",statusCollapsed:"status-collapsed",firstNode:"first-node",leafNode:"leaf-node",nodeHighlight:"highlight",nodeContent:"tree-node-content",nodeLayout:"tree-node-layout",highlightIndicator:"highlight-indicator",nodeBlock:"node-block",nodeIndent:"node-indent",nodeExpander:"node-expander",nodeExpanderBgIcon:"bgicon-dropdown13x8",nodeExpanderBgIconCollapsed:"bgicon-dropdown-collapse8x13",statusIndicator:"status-indicator",statusIndicatorNone:"none",statusPass16BgIcon:"bgicon-pass16",statusPass8BgIcon:"bgicon-pass8",statusErr16BgIcon:"bgicon-err16",statusErr8BgIcon:"bgicon-err8",statusWarn16BgIcon:"bgicon-warn16",statusWarn8BgIcon:"bgicon-warn8",statusInfo16BgIcon:"bgicon-info16",statusInfo8BgIcon:"bgicon-info8",nodeCaption:"node-caption",searchUnmatch:"search-unmatch"};this._nodeIndent=20;this._nodeDataModel=g;this._parentNode=k;this._nodeLevel=j;this._globalIndent=c;this._nodeStatus=null;this._childNodes=[];this._isHighlight=false;this._node=__uiElements.create_div().addClassNames(this._cssNames.node,this._cssNames.statusCollapsed).setId("testflow_node_"+this.getNodeDataKey());if(this.isLeafNode()){this._node.addClassNames(this._cssNames.leafNode);}this._nodeVisibility=this._checkVisiblityWithExtension(this._nodeDataModel,this._parentNode);if(!this._nodeVisibility){return;}var f=__uiElements.create_div().addClassNames(this._cssNames.nodeContent).appendTo(this._node).setCustomProperty("host_obj",this);var h=__uiElements.create_div().addClassNames(this._cssNames.nodeLayout).appendTo(f);__uiElements.create_div().addClassNames(this._cssNames.highlightIndicator).appendTo(h);var e=__uiElements.create_div().addClassNames(this._cssNames.nodeBlock).appendTo(h);var m=__uiElements.create_table().appendTo(e);var l=__uiElements.add_table_row(m);this._nodeIndent=this._globalIndent+this._nodeIndent*(this._nodeLevel-1);__uiElements.add_table_cell(l).addClassNames(this._cssNames.nodeIndent).setWidth(this._nodeIndent);this._expander=__uiElements.add_table_cell(l).addClassNames(this._cssNames.nodeExpander,this._cssNames.nodeExpanderBgIconCollapsed);this._statusIndicator=__uiElements.add_table_cell(l).addClassNames(this._cssNames.statusIndicator);if(this.isLeafNode()){this._updateStatusIndicator();}this._nodeCaption=__uiElements.add_table_cell(l).addClassNames(this._cssNames.nodeCaption);this._updateNodeCaption();var a=__commonUtils.array.makeArray(__commonUtils.general.getValue(this._nodeDataModel.children,this._nodeDataModel));if(a){for(var d=0;d<a.length;d++){var b=new TestFlowTreeNode(a[d],this,this._nodeLevel+1,this._globalIndent);this._childNodes.push(b);}}f.setOnClickHandler(function(o){var q=window.event||o;var p=__uiElements.get_custom_prop(this,"host_obj");if(p){var n=q.srcElement?q.srcElement:q.target;if(n==p._expander.e){if(!p.isLeafNode()){p._toggleExpander();}}else{if(!p._isHighlight){p.activate();}}}});}TestFlowTreeNode.prototype.show=function(c,b){if(c&&this.isAvailable()){this._node.appendTo(c);if(b){this._node.addClassNames(this._cssNames.firstNode);}if(this._childNodes&&this._childNodes.length>0){for(var a=0;a<this._childNodes.length;a++){this._childNodes[a].show(this._node);}}}return this;};TestFlowTreeNode.prototype.getNodeNumber=function(){if(this.isLeafNode()){return 1;}var b=0;if(this._childNodes&&this._childNodes.length>0){for(var a=0;a<this._childNodes.length;a++){b+=this._childNodes[a].getNodeNumber();}}return b+1;};TestFlowTreeNode.prototype.activate=function(){if(!this._isHighlight){var a=this.getNodeDataKey();__callbackCenter.invokeCallbacks("act_test_flow_node_before_activate",this,a,this._nodeDataModel.detailData);this._node.addClassNames(this._cssNames.nodeHighlight);this.ensureVisible();this._isHighlight=true;__callbackCenter.invokeCallbacks("act_test_flow_node_after_activated",this,a,this._nodeDataModel.detailData);}return this;};TestFlowTreeNode.prototype.deactivate=function(){if(this._isHighlight){var a=this.getNodeDataKey();__callbackCenter.invokeCallbacks("act_test_flow_node_before_deactivate",this,a,this._nodeDataModel.detailData);this._node.removeClassNames(this._cssNames.nodeHighlight);this._isHighlight=false;__callbackCenter.invokeCallbacks("act_test_flow_node_after_deactivated",this,a,this._nodeDataModel.detailData);}return this;};TestFlowTreeNode.prototype.getNodeDataModel=function(){return this._nodeDataModel;};TestFlowTreeNode.prototype.getNodeDataKey=function(){if(this._nodeDataModel&&this._nodeDataModel.detailData){return __commonUtils.general.getValue(this._nodeDataModel.detailData.key,this._nodeDataModel.detailData);}};TestFlowTreeNode.prototype.getFirstVisibleNode=function(){if(this.isVisible()){return this;}if(this._childNodes&&this._childNodes.length>0){for(var b=0;b<this._childNodes.length;b++){var a=this._childNodes[b].getFirstVisibleNode();if(a){return a;}}}};TestFlowTreeNode.prototype.ensureVisible=function(){if(this._parentNode){this._parentNode._toggleExpander("expanded");this._parentNode.ensureVisible();}return this;};TestFlowTreeNode.prototype.getOffsetTop=function(){return this._node.getOffsetTop();};TestFlowTreeNode.prototype.expandAll=function(){this._toggleExpander("expanded");if(this._childNodes&&this._childNodes.length>0){for(var a=0;a<this._childNodes.length;a++){this._childNodes[a].expandAll();}}return this;};TestFlowTreeNode.prototype.collapseAll=function(){this._toggleExpander("collapsed");if(this._childNodes&&this._childNodes.length>0){for(var a=0;a<this._childNodes.length;a++){this._childNodes[a].collapseAll();}}return this;};TestFlowTreeNode.prototype.getNodeStatus=function(){return this._nodeStatus;};TestFlowTreeNode.prototype.getChildNodes=function(){return this._childNodes;};TestFlowTreeNode.prototype.isLeafNode=function(){var a=__commonUtils.array.makeArray(__commonUtils.general.getValue(this._nodeDataModel.children,this._nodeDataModel));return !a||a.length==0;};TestFlowTreeNode.prototype.isVisible=function(){if(!this.isAvailable()){return false;}if(!this._node.isVisible()){return false;}return true;};TestFlowTreeNode.prototype.setFirstNode=function(a){if(a){this._node.addClassNames(this._cssNames.firstNode);}else{this._node.removeClassNames(this._cssNames.firstNode);}return this;};TestFlowTreeNode.prototype.getAllNodes=function(c){var d=[];if(!c){d.push(this);}if(this._childNodes){for(var b=0;b<this._childNodes.length;b++){var a=this._childNodes[b].getAllNodes();if(a&&a.length>0){d=d.concat(a);}}}return d;};TestFlowTreeNode.prototype.isHiddenBySearch=function(){var a=this._node.getHidden();if(a){return true;}};TestFlowTreeNode.prototype.hideNode=function(){this._node.e._data_ftsch_hiddenFlag="hide";this._node.e._data_ftsch_ismatch="unmatch";this.setSearchHidden(true);};TestFlowTreeNode.prototype.showMatchedNode=function(){this.setSearchHidden(false);this._node.e._data_ftsch_hiddenFlag="show";this._node.e._data_ftsch_ismatch="match";};TestFlowTreeNode.prototype.resetNode=function(){this.setSearchHidden(false);if(this._node.e._data_ftsch_hiddenFlag=="hide"){this._node.e._data_ftsch_hiddenFlag="";this._node.e._data_ftsch_ismatch="";this.updateNodeStyles();}};TestFlowTreeNode.prototype.setSearchHidden=function(a){this._node.setHidden(a);return this;};TestFlowTreeNode.prototype.syncSearchHiddenStatus=function(){if(!this.isHiddenBySearch()&&this.isSearchMatch()){var b=this._parentNode;while(b){b.setSearchHidden(false);b=b._parentNode;}this.ensureVisible();}if(this._childNodes){for(var a=0;a<this._childNodes.length;a++){this._childNodes[a].syncSearchHiddenStatus();}}return this;};TestFlowTreeNode.prototype.isSearchMatch=function(){if(!this.isAvailable()){return false;}return !this._node.e._data_ftsch_ismatch||this._node.e._data_ftsch_ismatch==="match";};TestFlowTreeNode.prototype.getFirstSearchMatchNode=function(){if(this.isSearchMatch()){return this;}if(this._childNodes&&this._childNodes.length>0){for(var b=0;b<this._childNodes.length;b++){var a=this._childNodes[b].getFirstSearchMatchNode();if(a){return a;}}}};TestFlowTreeNode.prototype.updateNodeStyles=function(){this._node.removeClassNames(this._cssNames.searchUnmatch);if(!this.isSearchMatch()){this._node.addClassNames(this._cssNames.searchUnmatch);}return true;};TestFlowTreeNode.prototype.isAvailable=function(){return this._nodeVisibility;};TestFlowTreeNode.prototype._toggleExpander=function(a){if(!this.isLeafNode()){if(a=="expanded"){this._node.removeClassNames(this._cssNames.statusCollapsed);this._node.addClassNames(this._cssNames.statusExpanded);this._expander.removeClassNames(this._cssNames.nodeExpanderBgIconCollapsed);this._expander.addClassNames(this._cssNames.nodeExpanderBgIcon);}else{if(a=="collapsed"){this._node.removeClassNames(this._cssNames.statusExpanded);this._node.addClassNames(this._cssNames.statusCollapsed);this._expander.removeClassNames(this._cssNames.nodeExpanderBgIcon);this._expander.addClassNames(this._cssNames.nodeExpanderBgIconCollapsed);}else{if(this._node.hasClassName(this._cssNames.statusExpanded)){this._node.replaceClassName(this._cssNames.statusExpanded,this._cssNames.statusCollapsed);this._expander.removeClassNames(this._cssNames.nodeExpanderBgIcon);this._expander.addClassNames(this._cssNames.nodeExpanderBgIconCollapsed);}else{this._node.removeClassNames(this._cssNames.statusCollapsed);this._node.addClassNames(this._cssNames.statusExpanded);this._expander.removeClassNames(this._cssNames.nodeExpanderBgIconCollapsed);this._expander.addClassNames(this._cssNames.nodeExpanderBgIcon);}}}}};TestFlowTreeNode.prototype._updateStatusIndicator=function(f){var h=this._nodeStatus;var k=f;var j=__commonUtils.general.getValue(this._nodeDataModel.status,this._nodeDataModel);var b="error";var l="warning";var d="information";if(h===b||k===b||j===b){this._nodeStatus=b;}else{if(h===l||k===l||j===l){this._nodeStatus=l;}else{if(h===d||k===d||j===d){this._nodeStatus=d;}else{if(j||k){this._nodeStatus=j?j:k;}}}}var e=this.isLeafNode();var g="";if(this._nodeStatus===b){g=e?this._cssNames.statusErr16BgIcon:this._cssNames.statusErr8BgIcon;if(this._parentNode){this._parentNode._updateStatusIndicator(b);}}else{if(this._nodeStatus===l){g=e?this._cssNames.statusWarn16BgIcon:this._cssNames.statusWarn8BgIcon;if(this._parentNode){this._parentNode._updateStatusIndicator(l);}}else{if(this._nodeStatus===d){g=e?this._cssNames.statusInfo16BgIcon:this._cssNames.statusInfo8BgIcon;if(this._parentNode){this._parentNode._updateStatusIndicator(d);}}else{g=e?this._cssNames.statusPass16BgIcon:this._cssNames.statusPass8BgIcon;if(this._parentNode){this._parentNode._updateStatusIndicator();}}}}var a=__commonUtils.general.getValue(this._nodeDataModel.status_indicator_iconkey,this._nodeDataModel);if(a){g="c-icon-"+a;}this._statusIndicator.clearClassNames();this._statusIndicator.addClassNames(this._cssNames.statusIndicator);if(g){this._statusIndicator.addClassNames(g);}var c=__commonUtils.general.getValue(this._nodeDataModel.hide_status_indicator,this._nodeDataModel);if(c){this._statusIndicator.addClassNames(this._cssNames.statusIndicatorNone);}return this;};TestFlowTreeNode.prototype._updateNodeCaption=function(){this._nodeCaption.setInnerHTML("");var b=__uiElements.create_div();var a={nodeDataModel:this._nodeDataModel,detailData:this._nodeDataModel?this._nodeDataModel.detailData:null,parent:b,defaultSearchSupport:true,search:{uiIdPrefix:"testflow_node_caption_"+this.getNodeDataKey(),unmatchHideUIId:this._node.getId()}};var c=__defaultRenders.keys["TestFlowTreeNode.Caption"];if(!__reportExtension.executeExternalRenders(c,a)){__defaultRenders.execute(c,a);}b.appendTo(this._nodeCaption);return this;};TestFlowTreeNode.prototype._checkVisiblityWithExtension=function(b,c){var e=false;var a=__commonUtils.general.getValue(this._nodeDataModel.is_unknown_node_type,this._nodeDataModel);if(!a){e=true;}var d={nodeDataModel:b,detailData:b?b.detailData:null,parentNode:c,show_node:e};if(__reportExtension.executeExternalRenders(__defaultRenders.keys["TestFlowTreeNode.Visibility"],d)){e=d.show_node;}return e;};function TestFlowTreeNodeCaptionRenderer(a){this._cssNames={nodeComponentWrapper:"node-component-wrapper",nodeIcon:"node-icon",nodeIconNone:"none",nodeName:"node-name",nodeComponentPrefix:"node-comp-prefix",nodeComponentSuffix:"node-comp-suffix"};this._renderArgs=a;}TestFlowTreeNodeCaptionRenderer.prototype.render=function(h){if(h&&this._renderArgs&&this._renderArgs.components&&this._renderArgs.components.length>0){for(var c=0;c<this._renderArgs.components.length;c++){var a=this._renderArgs.components[c];if(!a||!a.data||!a.options){continue;}var b=__uiElements.create_span().addClassNames(this._cssNames.nodeComponentWrapper);var f=true;if(a.options.showPrefix){var j=a.data.prefixHTML||this._renderArgs.defaultPrefixHTML;if(j){__uiElements.create_span().addClassNames(this._cssNames.nodeComponentPrefix).setInnerHTML(j).appendTo(b);f=false;}}var g=false;var d=this._cssNames.nodeIconNone;if(a.options.showIcon){var k=a.data.iconClassName||this._renderArgs.defaultIconClassName;if(k){d=k;g=true;f=false;}}var e=__uiElements.create_span().addClassNames(this._cssNames.nodeIcon,d).appendTo(b);if(g&&a.options.showIconTooltip&&a.data.iconTooltip){e.setTitle(a.data.iconTooltip);}if(a.options.showContent&&a.data.contentHTML){__uiElements.create_span().addClassNames(this._cssNames.nodeName).setInnerHTML(a.data.contentHTML).appendTo(b);f=false;}if(a.options.showSuffix){var l=a.data.suffixHTML||this._renderArgs.defaultSuffixHTML;if(l){__uiElements.create_span().addClassNames(this._cssNames.nodeComponentSuffix).setInnerHTML(l).appendTo(b);f=false;}}if(!f){b.appendTo(h);}}}};(function(){var c=function(h){if(!h){return;}var k=h.default_name;if(h.tooltip.custom){k=h.tooltip.custom;}else{if(h.tooltip.sameAsCaption){if(h.logic_name){k=h.prefix||"";k+=h.logic_name;}}else{if(h.logic_name){var j=h.prefix||"";j+=h.logic_name;if(h.object_type){k=__commonUtils.str.format('{0}("{1}")',h.object_type,j);}else{k=j;}}}}return k;};var a=function(l,h){if(!l||!h){return;}var j={nodeNameEmphasisText:"emphasis"};var k="";if(h.logic_name){if(h.prefix){k+=h.prefix;}k+=h.logic_name;var m=__commonUtils.general.getValue(l.operation,l);if(m){k+=__commonUtils.str.format('.<span class="{0}">{1}</span>',j.nodeNameEmphasisText,m);}}else{k=h.default_name;}return k;};var b=function(){var h={nodeSplit:"node-split"};return __commonUtils.str.format('<span class="{0}">{1}</span>',h.nodeSplit,"&gt;");};var e=function(h){var l={showIcon:true,showIconTooltip:true,iconClass:h.icon_key,iconTooltip:c(h)};var m={reportNode:h.raw_report_node,icon_key:null,show_icon:true,icon_tooltip:null,show_icon_tooltip:true};if(__reportExtension.executeExternalRenders(__defaultRenders.keys["TestFlowTreeNode.Caption-Icon"],m)){l.showIcon=m.show_icon;l.showIconTooltip=m.show_icon_tooltip;var j=m.icon_key;if(j){l.iconClass=j;}var k=m.icon_tooltip;if(k){l.iconTooltip=k;}}return l;};var d=function(m,l,h){var n={showFormattedText:true,formattedText:a(l,h)};var j={nodeDataModel:m,detailData:m?m.detailData:null,formatted_text:null,show_formatted_text:true};if(__reportExtension.executeExternalRenders(__defaultRenders.keys["TestFlowTreeNode.Caption-Text"],j)){n.showFormattedText=j.show_formatted_text;var k=j.formatted_text;if(k){n.formattedText=k;}}return n;};var f=function(k){var l={showSplit:true,splitHTML:b()};var h={nodeDataModel:k,detailData:k?k.detailData:null,split:null,show_split:true};if(__reportExtension.executeExternalRenders(__defaultRenders.keys["TestFlowTreeNode.Caption-Split"],h)){l.showSplit=h.show_split;var j=h.split;if(j){l.splitHTML=j;}}return l;};var g=function(q){if(!q){return;}var n=q.nodeDataModel;if(!n){return;}var o=q.parent;if(!o){return;}var m=__commonUtils.general.getValue(n.caption,n);if(!m){return;}var h=__commonUtils.array.makeArray(__commonUtils.general.getValue(m.objects_chain,m));if(!h||h.length==0){return;}var s=f(n);var p={defaultSuffixHTML:((s&&s.showSplit)?s.splitHTML:null),components:[]};for(var k=0;k<h.length;k++){var j=h[k];if(!j){continue;}var l=e(j);var t;var r=true;if(k==h.length-1){t=d(n,m,j);r=false;}p.components.push({data:{iconClassName:l.iconClass,iconTooltip:l.iconTooltip,contentHTML:(t?t.formattedText:null)},options:{showIcon:l.showIcon,showIconTooltip:l.showIconTooltip,showContent:(t&&t.showFormattedText),showSuffix:r}});}new TestFlowTreeNodeCaptionRenderer(p).render(o);};__defaultRenders.add(__defaultRenders.keys["TestFlowTreeNode.Caption"],g);})();