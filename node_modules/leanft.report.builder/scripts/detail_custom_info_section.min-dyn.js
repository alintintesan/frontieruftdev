function DetailCustomInfoSection(b,c){this._cssNames={sectionWrapper:"detail-section-wrapper",section:"detail-section",customInfoSection:"custom-info-section",layout:"section-layout",captionLabel:"caption-label",additionalCaption:"additional-caption",dataLabel:"data-label",dataContent:"data-content",customImageWrapper:"cust-imgwrapper"};this._sectionData=b;this._sectionUIMetadata=c;this._sectionWrapper=__uiElements.create_div().addClassNames(this._cssNames.sectionWrapper).appendTo(this._sectionUIMetadata.sections);this._lazyCallbackKey="cb_detail_custinfo_"+this._sectionUIMetadata.itemDataKey;var a=new CallbackInfo(this._lazyCallbackKey);a.register(this,this._initialize,"init");__uiViewObjectsCenter.addLazyTask(this._lazyCallbackKey,a);}DetailCustomInfoSection.prototype.updateUILayout=function(){__uiViewObjectsCenter.forceExecuteLazyTask(this._lazyCallbackKey);this._updateCustomImageLayout();return this;};DetailCustomInfoSection.prototype._initialize=function(){this._section=__uiElements.create_div().addClassNames(this._cssNames.section,this._cssNames.customInfoSection).appendTo(this._sectionWrapper);this._sectionLayout=__uiElements.create_div().addClassNames(this._cssNames.layout).appendTo(this._section);this._contentTable=__uiElements.create_table().appendTo(this._sectionLayout);var c=__uiElements.add_table_row(this._contentTable);var b=__uiElements.add_table_cell(c);var a=__commonUtils.str.normalizeAll(__commonUtils.general.getValue(this._sectionData.caption,this._sectionData));this._createSearchableElement(this._getUIId("caption"),a).addClassNames(this._cssNames.captionLabel).appendTo(b);this._createRows_CustomImage();return this;};DetailCustomInfoSection.prototype._createRows_CustomImage=function(){var a=__commonUtils.general.getValue(this._sectionData.image,this._sectionData);if(a){var c=__uiElements.add_table_row(this._contentTable);var b=__uiElements.add_table_cell(c);this._imageContainer=__uiElements.create_div().addClassNames(this._cssNames.dataContent,this._cssNames.customImageWrapper).appendTo(b);this._customScaleImage=new ScaleImage(a,this._imageContainer).enableAutoSize();}return this;};DetailCustomInfoSection.prototype._updateCustomImageLayout=function(){var f=this._sectionWrapper.getWidth()-100;maxWidth=f;if(maxWidth<100){maxWidth=100;}var d=150;var c=d;if(this._sectionUIMetadata.pane){var e=120;c=this._sectionUIMetadata.pane.getHeight()-e;var a=__commonUtils.general.calcAbsTopLeft(this._sectionWrapper.e,this._sectionUIMetadata.pane.e);if(a){var b=this._sectionUIMetadata.pane.getHeight()-a.y-e;if(b<c){c=b;}}}if(c<d){c=d;}if(this._imageContainer&&this._customScaleImage){this._imageContainer.setMaxWidth(maxWidth).setMaxHeight(c);this._customScaleImage.update();}return this;};DetailCustomInfoSection.prototype._getUIId=function(a){if(a){return"item_detail_custinfo_section_"+a+"_"+this._sectionUIMetadata.itemDataKey;}else{return Math.uuid();}};DetailCustomInfoSection.prototype._createSearchableElement=function(e,a,d){if(!e){e=Math.uuid();}if(!a){a="";}if(!d){d=this._sectionUIMetadata.searchRankBase+500;}var c={id:e,content:a,rank:d,unmatchHideUIId:this._sectionUIMetadata.searchUnmatchHideUIIds};var b=__fullTextSearchHelper.createSearchableNode(c);__fullTextSearchHelper.addSearchableNodes([b]);return __uiElements.get_wrapper(b);};