function InfoStrip(a){this._cssNames={stripWrapper:"info-strip-wrapper",strip:"info-strip",stripSimpleMode:"simple-mode",stripFullMode:"full-mode",infoEntity:"info-entity",infoLabel:"info-label",infoValue:"info-value",infoItemsTable:"info-items-table",expandableLinkWrapper:"expandable-link-wrapper",expandableLink:"expandable-link",toggleMore:"toggle-more",toggleLess:"toggle-less",linksRow:"links-row",linksCell:"links-cell",commonlinks:"common-links",firstLink:"first-link",linkItem:"link-item",customInfosContainer:"custom-infos-container",customInfosCaption:"custom-infos-caption",customInfosTable:"custom-infos-table",customInfoName:"custom-info-name",customInfoValue:"custom-info-value",testDataSrcContainer:"test-data-src-container",testDataSrcCaption:"test-data-src-caption",testDataSrcSection:"test-data-src-section",testDataSrcLastSection:"last-section",testDataSrcFileTitle:"test-data-src-item-file-title",testDataSrcNameMappingTable:"test-data-src-name-mapping-table",testDataSrcNameInApp:"test-data-src-name-in-app",testDataSrcNameInFile:"test-data-src-name-in-file",testParamsContainer:"test-params-container",testParamsCaption:"test-params-caption",testParamsTable:"test-params-table",testParamsName:"test-params-name",testParamsValue:"test-params-value",testedAppsContainer:"tested-apps-container",testedAppsCaption:"tested-apps-caption",testAppsSubcaption:"tested-apps-subcaption",testAppsTable:"tested-apps-table",testAppsName:"tested-apps-name",testAppsValue:"tested-apps-value"};this._dataModel=a;this._isFullMode=false;this._infoItemsContainer=null;this._commonlinksContainer=null;this._stripWrapper=__uiElements.create_div().addClassNames(this._cssNames.stripWrapper);this._strip=__uiElements.create_div().addClassNames(this._cssNames.strip,this._cssNames.stripSimpleMode).appendTo(this._stripWrapper);}InfoStrip.prototype._updateContent=function(a,b){if(this._infoItemsContainer){this._infoItemsContainer.setInnerHTML("");if(a){this._isFullMode=true;this._updateContentInFullMode();}else{this._isFullMode=false;this._updateContentInSimpleMode();}if(!b){this._showLinks(this._isFullMode);}}return this;};InfoStrip.prototype._updateContentInSimpleMode=function(){var d=__commonUtils.general.getValue(this._dataModel.info_items,this._dataModel);var a=3;if(this._infoItemsContainer&&d&&d.length>0){for(var c=0;c<Math.min(d.length,a);c++){var e=d[c];if(e){var b=this._createInfoEntity(__commonUtils.general.getValue(e.label,e),__commonUtils.general.getValue(e.value,e));if(b){b.appendTo(this._infoItemsContainer);}}}}return this;};InfoStrip.prototype._updateContentInFullMode=function(){if(this._infoItemsContainer){var l=__commonUtils.general.getValue(this._dataModel.info_items,this._dataModel);if(l&&l.length>0){var s=120;var r=280;var q=4;var b=0;var a=0;var g=this._infoItemsContainer.getWidth();if(g>=r*q){b=r*q;a=q;}else{for(var d=q;d>0;d--){var v=g/d;if(v>=s&&v<=r){b=g;a=d;break;}else{if(d==1){b=g;a=1;break;}}}}if(a>0&&b>0){var u=Math.ceil(l.length/a);var f=b/a;var o=__uiElements.create_table().addClassNames(this._cssNames.infoItemsTable).setWidth(b).appendTo(this._infoItemsContainer);var n=0;for(var k=0;k<u;k++){var t=__uiElements.add_table_row(o);for(var p=0;p<a;p++){var e=__uiElements.add_table_cell(t).setWidth(f);if(n<l.length){var m=l[n];var h=this._createInfoEntity(__commonUtils.general.getValue(m.label,m),__commonUtils.general.getValue(m.value,m));if(h){h.appendTo(e);}n++;}}}}}}return this;};InfoStrip.prototype._createInfoEntity=function(b,c){if(b){var a=__uiElements.create_div().addClassNames(this._cssNames.infoEntity);__uiElements.create_div().addClassNames(this._cssNames.infoLabel).setInnerHTML(b).appendTo(a);__uiElements.create_div().addClassNames(this._cssNames.infoValue).setInnerHTML(__commonUtils.str.normalizeAll(c)).appendTo(a);return a;}};InfoStrip.prototype._showLinks=function(b){if(this._commonlinksContainer){this._commonlinksContainer.setInnerHTML("<div></div>");this._morelinksContainer.setInnerHTML("<div></div>");var a;if(b){var c=this._addGlobalTestedAppsLink();if(!a){a=c;}c=null;c=this._addCustomInfoLinks();if(!a){a=c;}c=null;c=this._addCommonLinks();if(c){c.addClassNames(this._cssNames.firstLink);this._toggleButtonContainer.removeClassNames(this._cssNames.firstLink);}}else{var c=this._addCommonLinks();if(c){this._toggleButtonContainer.removeClassNames(this._cssNames.firstLink);c.addClassNames(this._cssNames.firstLink);}}if(a){this._toggleButtonContainer.removeClassNames(this._cssNames.firstLink);a.addClassNames(this._cssNames.firstLink);}}return this;};InfoStrip.prototype._addGlobalTestedAppsLink=function(){var a;var d=__commonUtils.array.makeArray(__commonUtils.general.getValue(this._dataModel.global_tested_apps_info,this._dataModel));if(d&&d.length>0){var b={caption:__commonUtils.general.getValue(this._dataModel.global_tested_apps_info_link_label,this._dataModel),nameLabel:__commonUtils.general.getValue(this._dataModel.tested_apps_info_name_label,this._dataModel),pathLabel:__commonUtils.general.getValue(this._dataModel.tested_apps_info_path_label,this._dataModel),versionLabel:__commonUtils.general.getValue(this._dataModel.tested_apps_info_version_label,this._dataModel),runtimeEngineLabel:__commonUtils.general.getValue(this._dataModel.tested_apps_info_runtime_engine_label,this._dataModel),parameterLabel:__commonUtils.general.getValue(this._dataModel.tested_apps_info_parameter,this._dataModel),webTechUrlLabel:__commonUtils.general.getValue(this._dataModel.tested_apps_info_webtech_url_label,this._dataModel)};var c=__uiElements.create_link("####").addClassNames(this._cssNames.linkItem).setInnerHTML(b.caption).setCustomProperty("hostObj",this).setCustomProperty("testedApps",d).setCustomProperty("labelObj",b).setOnClickHandler(this._globalTestedAppsLinkClickHandler).appendTo(this._morelinksContainer);if(!a){a=c;}}return a;};InfoStrip.prototype._addCustomInfoLinks=function(){var b;var f=__commonUtils.array.makeArray(__commonUtils.general.getValue(this._dataModel.user_notes,this._dataModel));var a=__commonUtils.array.makeArray(__commonUtils.general.getValue(this._dataModel.custom_run_infos,this._dataModel));var d=__commonUtils.general.getValue(this._dataModel.user_notes_label,this._dataModel);var e=__commonUtils.general.getValue(this._dataModel.custom_run_infos_label,this._dataModel);if((f&&f.length>0)||(a&&a.length>0)){var c=__uiElements.create_link("####").addClassNames(this._cssNames.linkItem).setInnerHTML(__commonUtils.general.getValue(this._dataModel.custom_notes_info_link_label,this._dataModel)).setCustomProperty("hostObj",this).setCustomProperty("infos",a).setCustomProperty("notes",f).setCustomProperty("notesLabel",d).setCustomProperty("infosLabel",e).setOnClickHandler(this._customInfosLinkClickHandler).appendTo(this._morelinksContainer);if(!b){b=c;}}return b;};InfoStrip.prototype._addCommonLinks=function(){var d;if(typeof __testDataSource!="undefined"&&__testDataSource&&__testDataSource.items){var c=__commonUtils.array.makeArray(__testDataSource.items);if(c.length>0){var b=__commonUtils.general.getValue(this._dataModel.data_source_label,this._dataModel);var e=__uiElements.create_link("####").addClassNames(this._cssNames.linkItem).setInnerHTML(b).setCustomProperty("hostObj",this).setCustomProperty("dataSrc",c).setCustomProperty("dataSrcLabel",b).setOnClickHandler(this._testDataSourceLinkClickHandler).appendTo(this._commonlinksContainer);if(!d){d=e;}}}var g=__commonUtils.array.makeArray(__commonUtils.general.getValue(this._dataModel.test_input_params,this._dataModel));var i=__commonUtils.array.makeArray(__commonUtils.general.getValue(this._dataModel.test_output_params,this._dataModel));var h=__commonUtils.general.getValue(this._dataModel.test_input_params_label,this._dataModel);var j=__commonUtils.general.getValue(this._dataModel.test_output_params_label,this._dataModel);if((g&&g.length>0)||(i&&i.length>0)){var e=__uiElements.create_link("####").addClassNames(this._cssNames.linkItem).setInnerHTML(__commonUtils.general.getValue(this._dataModel.test_params_link_label,this._dataModel)).setCustomProperty("hostObj",this).setCustomProperty("inputParams",g).setCustomProperty("outputParams",i).setCustomProperty("inputParamsLabel",h).setCustomProperty("outputParamsLabel",j).setOnClickHandler(this._testParametersLinkClickHandler).appendTo(this._commonlinksContainer);if(!d){d=e;}}var f=__commonUtils.general.getValue(this._dataModel.movie_link_url,this._dataModel);if(f){var e=__uiElements.create_link(f).addClassNames(this._cssNames.linkItem).setInnerHTML(__commonUtils.general.getValue(this._dataModel.movie_link_label,this._dataModel)).appendTo(this._commonlinksContainer);if(!d){d=e;}}var a=__commonUtils.general.getValue(this._dataModel.aut_logs_link_url,this._dataModel);if(a){var e=__uiElements.create_link("####").addClassNames(this._cssNames.linkItem).setInnerHTML(__commonUtils.general.getValue(this._dataModel.aut_logs_link_label,this._dataModel)).setCustomProperty("hostObj",this).setCustomProperty("linkURL",a).setOnClickHandler(this._autLogsLinkClickHandler).appendTo(this._commonlinksContainer);if(!d){d=e;}}return d;};InfoStrip.prototype.show=function(h){if(h&&this._strip&&this._stripWrapper){var q=__uiElements.create_table().appendTo(this._strip);var i=__uiElements.add_table_row(q).addClassNames(this._cssNames.linksRow);var b=__uiElements.add_table_cell(i,{name:"colspan",value:"2"}).addClassNames(this._cssNames.linksCell);var f=__uiElements.create_div().addClassNames(this._cssNames.commonlinks,this._cssNames.firstLink).appendTo(b);var r=__uiElements.create_div().addClassNames(this._cssNames.expandableLinkWrapper);this._toggleButtonContainer=r;this._commonlinksContainer=f;__uiElements.create_div().addClassNames(this._cssNames.expandableLink,this._cssNames.toggleMore).setInnerHTML(__commonUtils.general.getValue(this._dataModel.info_showMoreLabel,this._dataModel)).setCustomProperty("host_obj",this).setOnClickHandler(function(){var s=__uiElements.get_custom_prop(this,"host_obj");if(s){s._updateContent(true);s._strip.replaceClassName(s._cssNames.stripSimpleMode,s._cssNames.stripFullMode);}__callbackCenter.invokeCallbacks("layout_infostrip_showmore");}).appendTo(r);__uiElements.create_div().addClassNames(this._cssNames.expandableLink,this._cssNames.toggleLess).setInnerHTML(__commonUtils.general.getValue(this._dataModel.info_showLessLabel,this._dataModel)).setCustomProperty("host_obj",this).setOnClickHandler(function(){var s=__uiElements.get_custom_prop(this,"host_obj");if(s){s._updateContent(false);s._strip.replaceClassName(s._cssNames.stripFullMode,s._cssNames.stripSimpleMode);}__callbackCenter.invokeCallbacks("layout_infostrip_showless");}).appendTo(r);var j=__uiElements.add_table_row(q).addClassNames(this._cssNames.linksRow);var c=__uiElements.add_table_cell(j,{name:"colspan",value:"2"}).addClassNames(this._cssNames.linksCell);this._morelinksContainer=c;var k=__uiElements.add_table_row(q);var d=__uiElements.add_table_cell(k);this._infoItemsContainer=d;var l=__uiElements.add_table_row(q);var e=__uiElements.add_table_cell(l,{name:"colspan",value:"2"}).addClassNames(this._cssNames.linksCell);this._toggleButtonContainer.appendTo(e);var m=__uiElements.add_table_row(q);var o=__uiElements.add_table_cell(m,{name:"colspan",value:"2"}).addClassNames(this._cssNames.linksCell);var p=__dataModel._getSRFInfo();var a=__dataModel._getADFInfo();var g=__uiElements.create_div().addClassNames("srf-report-wrapper").appendTo(o);if(a){var n=__uiElements.create_link(a.ADFReportLink,"_blank").addClassNames("link srf-deep-link").setInnerHTML(a.ADFReportLinkLabel).appendTo(g);}this._stripWrapper.appendTo(h);this._updateContent(this._isFullMode);}return this;};InfoStrip.prototype.getTotalHeight=function(){if(this._stripWrapper){return this._stripWrapper.getHeight();}};InfoStrip.prototype.updateLayout=function(){this._updateContent(this._isFullMode,true);return this;};InfoStrip.prototype._autLogsLinkClickHandler=function(){var a=__uiElements.get_custom_prop(this,"linkURL");window.open(a,Math.uuid());return false;};InfoStrip.prototype._testDataSourceLinkClickHandler=function(){var b=[__uiElements.get_custom_prop(this,"hostObj"),__uiElements.get_custom_prop(this,"dataSrc"),__uiElements.get_custom_prop(this,"dataSrcLabel")];var a=function(t,e){if(e&&e.length>=3){var p=e[0];var k=e[1];var f=e[2];var h=p._cssNames;var x=t.maxWidth*0.8;var n=t.maxHeight*0.8;var g=__uiElements.create_div().addClassNames(h.testDataSrcContainer).setWidth(x).setHeight(n);if(f){__uiElements.create_div().addClassNames(h.testDataSrcCaption).setInnerHTML(f).appendTo(g);}for(var o=0;o<k.length;o++){var q=k[o];var s=__commonUtils.array.makeArray(q.namePairs);var l=q.dataFilePath;if(l){l=l.replace("\\","/");}var v=__uiElements.create_div().addClassNames(h.testDataSrcSection);if(o==k.length-1){v.addClassNames(h.testDataSrcLastSection);}if(q.dataFileFormat=="excel"){var m=l;__uiElements.create_link("####").addClassNames(h.testDataSrcFileTitle).setInnerHTML(m).setCustomProperty("url",l).setOnClickHandler(function(){var i=__uiElements.get_custom_prop(this,"url");window.open(i,Math.uuid());return false;}).appendTo(v);if(s&&s.length>0){var w=__uiElements.create_table().addClassNames(h.testDataSrcNameMappingTable).appendTo(v);for(var r=0;r<s.length;r++){var u=__uiElements.add_table_row(w);__uiElements.add_table_cell(u).addClassNames(h.testDataSrcNameInFile).setInnerHTML(s[r].nameInDataFile);__uiElements.add_table_cell(u).addClassNames(h.testDataSrcNameInApp).setInnerHTML(s[r].nameInApp);}}}else{if(q.dataFileFormat=="xml"){var m=l;if(s&&s.length>0){m=s[0].nameInApp+".xml";}__uiElements.create_link("####").addClassNames(h.testDataSrcFileTitle).setInnerHTML(m).setCustomProperty("url",l).setOnClickHandler(function(){var i=__uiElements.get_custom_prop(this,"url");window.open(i,Math.uuid());return false;}).appendTo(v);}else{continue;}}v.appendTo(g);}return g;}};var d;var c=function(h,e){var f=h.content;if(f){var i=h.maxWidth*0.8;var g=h.maxHeight*0.8;f.setWidth(i).setHeight(g);return f;}};__uiElements.show_float_pane(a,b,c,d);return false;};InfoStrip.prototype._customInfosLinkClickHandler=function(){var b=[__uiElements.get_custom_prop(this,"hostObj"),__uiElements.get_custom_prop(this,"infos"),__uiElements.get_custom_prop(this,"notes"),__uiElements.get_custom_prop(this,"infosLabel"),__uiElements.get_custom_prop(this,"notesLabel")];var a=function(p,e){if(e&&e.length>=5){var m=e[0];var k=e[1];var n=e[2];var l=e[3];var o=e[4];var g=m._cssNames;var s=p.maxWidth*0.8;var h=p.maxHeight*0.8;var f=__uiElements.create_div().addClassNames(g.customInfosContainer).setWidth(s).setHeight(h);if(k&&k.length>0){if(l){__uiElements.create_div().addClassNames(g.customInfosCaption).setInnerHTML(l).appendTo(f);}var r=__uiElements.create_table().addClassNames(g.customInfosTable).appendTo(f);for(var j=0;j<k.length;j++){var q=__uiElements.add_table_row(r);__uiElements.add_table_cell(q).addClassNames(g.customInfoName).setInnerHTML(k[j].name);__uiElements.add_table_cell(q).addClassNames(g.customInfoValue).setInnerHTML(k[j].value);}}if(n&&n.length>0){if(o){__uiElements.create_div().addClassNames(g.customInfosCaption).setInnerHTML(o).appendTo(f);}var r=__uiElements.create_table().addClassNames(g.customInfosTable).appendTo(f);for(var j=0;j<n.length;j++){var q=__uiElements.add_table_row(r);__uiElements.add_table_cell(q).addClassNames(g.customInfoValue).setInnerHTML(n[j]);}}return f;}};var d;var c=function(h,e){var f=h.content;if(f){var i=h.maxWidth*0.8;var g=h.maxHeight*0.8;f.setWidth(i).setHeight(g);return f;}};__uiElements.show_float_pane(a,b,c,d);return false;};InfoStrip.prototype._testParametersLinkClickHandler=function(){var b=[__uiElements.get_custom_prop(this,"hostObj"),__uiElements.get_custom_prop(this,"inputParams"),__uiElements.get_custom_prop(this,"outputParams"),__uiElements.get_custom_prop(this,"inputParamsLabel"),__uiElements.get_custom_prop(this,"outputParamsLabel")];var a=function(p,e){if(e&&e.length>=5){var k=e[0];var l=e[1];var n=e[2];var m=e[3];var o=e[4];var g=k._cssNames;var s=p.maxWidth*0.8;var h=p.maxHeight*0.8;var f=__uiElements.create_div().addClassNames(g.testParamsContainer).setWidth(s).setHeight(h);if(l&&l.length>0){if(m){__uiElements.create_div().addClassNames(g.testParamsCaption).setInnerHTML(m).appendTo(f);}var r=__uiElements.create_table().addClassNames(g.testParamsTable).appendTo(f);for(var j=0;j<l.length;j++){var q=__uiElements.add_table_row(r);__uiElements.add_table_cell(q).addClassNames(g.testParamsName).setInnerHTML("<pre>"+l[j].name+"</pre>");__uiElements.add_table_cell(q).addClassNames(g.testParamsValue).setInnerHTML("<pre>"+l[j].value+"</pre>");}}if(n&&n.length>0){if(o){__uiElements.create_div().addClassNames(g.testParamsCaption).setInnerHTML(o).appendTo(f);}var r=__uiElements.create_table().addClassNames(g.testParamsTable).appendTo(f);for(var j=0;j<n.length;j++){var q=__uiElements.add_table_row(r);__uiElements.add_table_cell(q).addClassNames(g.testParamsName).setInnerHTML("<pre>"+n[j].name+"</pre>");__uiElements.add_table_cell(q).addClassNames(g.testParamsValue).setInnerHTML("<pre>"+n[j].value+"</pre>");}}return f;}};var d;var c=function(h,e){var f=h.content;if(f){var i=h.maxWidth*0.8;var g=h.maxHeight*0.8;f.setWidth(i).setHeight(g);return f;}};__uiElements.show_float_pane(a,b,c,d);return false;};InfoStrip.prototype._globalTestedAppsLinkClickHandler=function(){var b=[__uiElements.get_custom_prop(this,"hostObj"),__uiElements.get_custom_prop(this,"testedApps"),__uiElements.get_custom_prop(this,"labelObj")];var a=function(t,k){if(k&&k.length>=3){var p=k[0];var w=k[1];var r=k[2];var m=p._cssNames;var x=t.maxWidth*0.8;var n=t.maxHeight*0.8;var l=__uiElements.create_div().addClassNames(m.testedAppsContainer).setWidth(x).setHeight(n);if(r.caption){__uiElements.create_div().addClassNames(m.testedAppsCaption).setInnerHTML(r.caption).appendTo(l);}for(var o=0;o<w.length;o++){var f=w[o];__uiElements.create_div().addClassNames(m.testAppsSubcaption).setInnerHTML("#"+(o+1)).appendTo(l);var v=__uiElements.create_table().addClassNames(m.testAppsTable).appendTo(l);var e=function(i,y,j,z){if(z){var A=__uiElements.add_table_row(y);__uiElements.add_table_cell(A).addClassNames(i.testAppsName).setInnerHTML(j);__uiElements.add_table_cell(A).addClassNames(i.testAppsValue).setInnerHTML("<pre>"+z+"</pre>");}};e(m,v,r.nameLabel,__commonUtils.general.getValue(f.name,f));e(m,v,r.pathLabel,__commonUtils.general.getValue(f.path,f));e(m,v,r.versionLabel,__commonUtils.general.getValue(f.version,f));e(m,v,r.runtimeEngineLabel,__commonUtils.general.getValue(f.runtime_engine,f));var h=__commonUtils.general.getValue(f.technology,f);if(h){h=(h+"").toLowerCase();}var g=__commonUtils.array.makeArray(__commonUtils.general.getValue(f.parameters,f));if(g&&g.length>0){for(var q=0;q<g.length;q++){var s=r.parameterLabel;var u=__commonUtils.general.getValue(g[q]);if(h=="web"){if(q==0){s=r.webTechUrlLabel;}}e(m,v,s,u);}}}return l;}};var d;var c=function(h,e){var f=h.content;if(f){var i=h.maxWidth*0.8;var g=h.maxHeight*0.8;f.setWidth(i).setHeight(g);return f;}};__uiElements.show_float_pane(a,b,c,d);return false;};