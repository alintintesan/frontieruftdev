function SearchApplyBlock(a){this.node=a;}SearchApplyBlock.prototype.isHiddenInherit=function(b){if(this.node==b){return false;}if(this.node&&this.node.hidden){return true;}var a=this.node.parentNode;while(a&&a!=b){if(a.hidden){return true;}a=a.parentNode;}return false;};SearchApplyBlock.prototype.setTextBlockInfo=function(b){if(this.node&&this.node.textContent){this.text=this.node.textContent;}if(b>=0){this.startIndex=b;this.endIndex=-1;var a=this.text?this.text.length:-1;if(a>0){this.endIndex=this.startIndex+a-1;this.isTextBlockValid=true;}}return this;};function FullTextSearchNodeWorker(a){this.node=a;this._parseMetadata();this._cssNames={searchAssistentHighlight:"search-assist-highlight",searchHighlightWrapper:"search-highlight-wrapper",searchHighlightText:"search-highlight-text"};}FullTextSearchNodeWorker.prototype._parseMetadata=function(){if(this.node){this.metadata={nodeId:this.node.id,rank:100,dynamic:false,unmatchHideUIId:this.node.id,unmatchHideUIIdMore:[],originalInnerHTML:this.node.innerHTML,skipSearch:false};var e=this.node.getAttribute("data-ftsch-rank");if(e){var c=parseFloat(e);if(!isNaN(c)){this.metadata.rank=c;}}var d=this.node.getAttribute("data-ftsch-dynamic");if(d&&d.trim().toLowerCase()=="true"){this.metadata.dynamic=true;}var f=this.node.getAttribute("data-ftsch-unmatch-hide-ui-id");if(f){this.metadata.unmatchHideUIId=f;}var b=1;while(true){b++;var a="data-ftsch-unmatch-hide-ui-id"+b;var g=this.node.getAttribute(a);if(g){this.metadata.unmatchHideUIIdMore.push(g);}else{break;}}}return this;};FullTextSearchNodeWorker.prototype._parseContent=function(){var e=[];var c="";var d=0;var f=this.node;var b=function(j){var g=new SearchApplyBlock(j);if(j.nodeType==3&&(j.parentNode&&j.parentNode.tagName.toLowerCase()!="style"&&j.parentNode.tagName.toLowerCase()!="script")){if(g.isHiddenInherit(f)){g.setTextBlockInfo();}else{g.setTextBlockInfo(d);if(g.endIndex>=0){d=g.endIndex+1;}if(g.text){c+=g.text;}e.push(g);}return g;}if(j.childNodes){for(var h=0;h<j.childNodes.length;h++){b(j.childNodes[h]);}}};if(this.node.childNodes){for(var a=0;a<this.node.childNodes.length;a++){b(this.node.childNodes[a]);}}if(e.length>0){this.textBlocks=e;}else{this.textBlocks=null;}if(c){this.plaintext=c;}else{this.plaintext=null;}this.contentParsed=true;return this;};FullTextSearchNodeWorker.prototype._updateNode=function(){if(this.metadata.dynamic&&this.metadata.nodeId){var a=document.getElementById(this.metadata.nodeId);if(a){this.node=a;this.contentParsed=false;this._parseMetadata();}}if(!this.contentParsed){this._parseContent();}var b=this.node.getAttribute("data-ftsch-skip-search");if(b&&b!="false"){this.metadata.skipSearch=true;}else{this.metadata.skipSearch=false;}return this;};FullTextSearchNodeWorker.prototype._createHighlightNode=function(g,f,a,b){if(g&&g.length>0&&f>=0&&a<g.length){var e=g.slice(f,a+1);var d=document.createTextNode(e);if(b){var c=document.createElement("span");c.className=b;c.appendChild(d);d=c;}return d;}};FullTextSearchNodeWorker.prototype.getSearchAssistent=function(h,g,a){this._updateNode();if(this.metadata.skipSearch){return;}this.searchAssistent={plaintext:this.plaintext,criteria:{original:h,caseSensitive:a,parsed:g},isMatch:false,hasHighlight:false,highlight:{},assistentHTML:"",nodeWorker:this,isHighlightPosition:function(j){if(j>=0){var m=j+"";var i=this.highlight[m];if(i){return true;}}}};if(!this.searchAssistent.criteria.parsed||this.searchAssistent.criteria.parsed.length==0){this.searchAssistent.isMatch=true;return this.searchAssistent;}var l=this.plaintext;if(!l){return;}if(!this.searchAssistent.criteria.caseSensitive){l=l.toLowerCase();}for(var c=0;c<this.searchAssistent.criteria.parsed.length;c++){var b=this.searchAssistent.criteria.parsed[c];if(!this.searchAssistent.criteria.caseSensitive){b=b.toLowerCase();}var k=0;var f=-1;while(true){f=l.indexOf(b,k);if(f<0){break;}this.searchAssistent.isMatch=true;this.searchAssistent.hasHighlight=true;for(var d=0;d<b.length;d++){var e=(f+d)+"";if(!this.searchAssistent.highlight[e]){this.searchAssistent.highlight[e]=[];}this.searchAssistent.highlight[e].push(this.searchAssistent.criteria.parsed[c]);}k=f+b.length;f=-1;}}if(this.searchAssistent.isMatch&&this.searchAssistent.hasHighlight){return this.searchAssistent;}};FullTextSearchNodeWorker.prototype.applySearchHighlights=function(l,h,a){if(this.searchHighlightsApplied){return this;}var k=function(i,o){if(o&&o.parentNode){return o.parentNode.replaceChild(i,o);}};if(this.node.innerHTML!=this.metadata.originalInnerHTML){this.node.innerHTML=this.metadata.originalInnerHTML;this.contentParsed=false;this.searchAssistent=null;}if(!this.searchAssistent){this.getSearchAssistent(l,h,a);}if(this.metadata.skipSearch){return;}if(this.searchAssistent&&this.searchAssistent.isMatch){if(this.searchAssistent.hasHighlight&&this.textBlocks&&this.textBlocks.length>0){for(var e=0;e<this.textBlocks.length;e++){var d=document.createElement("span");d.className=this._cssNames.searchHighlightWrapper;var n=this.textBlocks[e];var m=n.startIndex;var g=0-m;var c=m;var j=this.searchAssistent.isHighlightPosition(c);while(c<n.endIndex){c++;var b=this.searchAssistent.isHighlightPosition(c);if(j&&!b){var f=this._createHighlightNode(n.text,m+g,c-1+g,this._cssNames.searchHighlightText);d.appendChild(f);m=c;j=false;}else{if(!j&&b){var f=this._createHighlightNode(n.text,m+g,c-1+g);d.appendChild(f);m=c;j=true;}}}if(m<=n.endIndex){var f;if(j){f=this._createHighlightNode(n.text,m+g,n.endIndex+g,this._cssNames.searchHighlightText);}else{f=this._createHighlightNode(n.text,m+g,n.endIndex+g);}d.appendChild(f);}if(n.node&&n.node.parentNode){n.node.parentNode.replaceChild(d,n.node);}}}}this.searchHighlightsApplied=true;return this;};FullTextSearchNodeWorker.prototype.resetAppliedHighlights=function(){this.searchAssistent=null;this.searchHighlightsApplied=false;return this;};FullTextSearchNodeWorker.prototype._getUnmatchHiddenNodes=function(){var d=[];var a=null;if(this.metadata.unmatchHideUIId==this.node.id){a=this.node;}else{a=document.getElementById(this.metadata.unmatchHideUIId);}if(a){d.push(a);}if(this.metadata.unmatchHideUIIdMore&&this.metadata.unmatchHideUIIdMore.length>0){for(var c=0;c<this.metadata.unmatchHideUIIdMore.length;c++){var b=document.getElementById(this.metadata.unmatchHideUIIdMore[c]);if(b){d.push(b);}}}return d;};function FullTextSearchHelper(){this._nodeWorkers=[];this._lazyLoadNodeWorkers=[];this._nodeTreeCache={};this._errListCache={};this._tempJsonSearchedCache=[];this._oldSearchTextInErrList="";this._oldSearchTextInTestFlow="";}FullTextSearchHelper.prototype._nodeWorkersSorter=function(c,d){var a=c?c.metadata.rank:-1;var b=d?d.metadata.rank:-1;return a-b;};FullTextSearchHelper.prototype._sortNodeWorkers=function(a){if(a){a.sort(this._nodeWorkersSorter);}return this;};FullTextSearchHelper.prototype._parseSearchCriteria=function(g){if(g){var c='"';var h=" ";var f=[];var b="";var d=false;for(var e=0;e<g.length;e++){var a=g[e];if(a===h){if(!d){if(b){f.push(b);b="";}continue;}if(b&&b.length>=2&&b[0]===c&&b.slice(-1)===c){if(b.length>=3){f.push(b.slice(1,-1));}d=false;b="";continue;}b+=a;continue;}if(b){b+=a;continue;}if(a===c){d=true;b+=a;continue;}b+=a;}if(b){if(b[0]===c&&b.slice(-1)===c){if(b.length<3){}else{f.push(b.slice(1,-1));}}else{f.push(b.replace(/(\s*$)/g,""));}}return f;}};FullTextSearchHelper.prototype.setCriteria=function(c,a){if(this._criteria!=c||this._caseSensitive!=a){this._criteria=c;this._caseSensitive=a;this._parsedCriteria=c?[c.trim()]:[];this._forceRestartSearch=true;for(var b=0;b<this._nodeWorkers.length;b++){this._nodeWorkers[b].resetAppliedHighlights();}if(!this.isNodeWorkersSorted){this._nodeWorkers.sort(this._nodeWorkersSorter);this.isNodeWorkersSorted=true;}return true;}return false;};FullTextSearchHelper.prototype.loadAutoSearchableNodes=function(d){var b=__commonUtils.general.getLegacyIEVersion();if(b&&b<=8){return this;}var c=document.getElementsByClassName("ftsch_item_auto");if(c&&c.length>0){for(var a=0;a<c.length;a++){if(!c[a].hidden){this._nodeWorkers.push(new FullTextSearchNodeWorker(c[a]));}}if(d){this._sortNodeWorkers(this._nodeWorkers);this.isNodeWorkersSorted=true;}else{this.isNodeWorkersSorted=false;}}return this;};FullTextSearchHelper.prototype.addSearchableNodes=function(d,b,f){if(d&&d.length>0){var e=b?this._lazyLoadNodeWorkers:this._nodeWorkers;for(var a=0;a<d.length;a++){if(!d[a].hidden){e.push(new FullTextSearchNodeWorker(d[a]));}}this._searchCompleted=false;}var c=false;if(f){this._sortNodeWorkers(e);c=true;}if(b){this.isLazyLoadNodeWorkersSorted=c;}else{this.isNodeWorkersSorted=c;}return this;};FullTextSearchHelper.prototype._searchInDataModel=function(a,c){this._tempJsonSearchedCache=[];var e;if(c=="errors_list"){if(a){e=__dataModel.errlist_abstract_items;this._searchInDataModelRecursively(e,a.toLowerCase());}else{for(var b in this._errListCache){var d=this._errListCache[b];this._tempJsonSearchedCache.push(d);}}}else{if(c=="test_flow"){if(a){e=__dataModel.testflow_nodes;this._searchInDataModelRecursively(e,a.toLowerCase());}else{for(var b in this._nodeTreeCache){var d=this._nodeTreeCache[b];this._tempJsonSearchedCache.push(d);}}}}};FullTextSearchHelper.prototype._searchInDataModelRecursively=function(c,b){if(c){for(var a=0;a<c.length;a++){this._findMatchedJsonNode(c[a],b);if(c[a].children&&c[a].children.length>0){this._searchInDataModelRecursively(c[a].children,b);}}}};FullTextSearchHelper.prototype._findMatchedJsonNode=function(Z,G){ifMatch=function(i){if(i){if(__commonUtils.str._isString(i)&&i.toLowerCase().indexOf(G)>-1){return true;}}return false;};searchProps=function(am){if(am&&am.length>0){for(var j=0;j<am.length;j++){var al=am[j];if(al){var an=__commonUtils.general.getValue(al.name,al);var ao=__commonUtils.general.getValue(al.value,al);if(ifMatch(an)||ifMatch(ao)){__fullTextSearchHelper._tempJsonSearchedCache.push(Z);return true;}}}}return false;};if(ifMatch(Z.caption)){this._tempJsonSearchedCache.push(Z);return;}var O=Z.caption.objects_chain;if(O){for(var J=0;J<O.length;J++){var g=O[J].logic_name;if(ifMatch(g)){this._tempJsonSearchedCache.push(Z);return;}}}var R=Z.caption.operation;if(ifMatch(R)){this._tempJsonSearchedCache.push(Z);return;}var I=Z.detailData;var ai=__commonUtils.general.getValue(I.title,I);if(ifMatch(ai)){this._tempJsonSearchedCache.push(Z);return;}if(I.overview){if(ifMatch(I.overview.caption)||ifMatch(I.overview.subcaption)){this._tempJsonSearchedCache.push(Z);return;}else{if(I.overview.data_items){var u=__commonUtils.array.makeArray(__commonUtils.general.getValue(I.overview.data_items,I.overview));for(var D=0;D<u.length;D++){var H=u[D];if(ifMatch(H.label)||ifMatch(H.content)){this._tempJsonSearchedCache.push(Z);return;}}}}}if(I.smart_identification_info){var X=__commonUtils.general.getValue(I.smart_identification_info.BaseProperties,I.smart_identification_info);var Y=__commonUtils.general.getValue(I.smart_identification_info.OptionalProperties,I.smart_identification_info);if((X&&X.length>0)||(Y&&Y.length>0)){var ad=I.smart_identification_info;if(ifMatch(ad.caption)||ifMatch(ad.OriginProperties_label)||ifMatch(ad.BaseDescription_label)||ifMatch(ad.BaseMatchs_label)||ifMatch(ad.OptionalProperties_label)||ifMatch(ad.copy_button_description)||ifMatch(ad.copy_label)||ifMatch(ad.CopyButton_content)||ifMatch(ad.label_info)||ifMatch(ad.label_matches)||ifMatch(ad.label_property)||ifMatch(ad.label_value)){this._tempJsonSearchedCache.push(Z);return;}var W=__commonUtils.general.getValue(ad.OriginProperties,ad);if(searchProps(W)){return;}if(searchProps(X)){return;}if(searchProps(Y)){return;}}}if(I.test_obj_info){var U=__commonUtils.array.makeArray(__commonUtils.general.getValue(I.test_obj_info.paths,I.test_obj_info));var d=__commonUtils.general.getValue(I.test_obj_info.app_model,I.test_obj_info);var w=__commonUtils.general.getValue(I.test_obj_info.descriptive,I.test_obj_info);if((U&&U.length>0)||d||w){var ah=I.test_obj_info;if(ifMatch(ah.caption)||ifMatch(ah.subcaption)||ifMatch(ah.repository)||ifMatch(ah.repository_label)||ifMatch(ah.object_path_label)){this._tempJsonSearchedCache.push(Z);return;}var U=__commonUtils.array.makeArray(__commonUtils.general.getValue(ah.paths,ah));if(U&&U.length>0){for(var D=0;D<U.length;D++){var V=U[D];var P=__commonUtils.general.getValue(V.name,V);var Q=__commonUtils.general.getValue(V.type,V);if(ifMatch(P)||ifMatch(Q)){this._tempJsonSearchedCache.push(Z);return;}}}var W=__commonUtils.array.makeArray(__commonUtils.general.getValue(ah.properties,ah));if(searchProps(W)){return;}}}if(I.stacktrace_info){var z=__commonUtils.array.makeArray(__commonUtils.general.getValue(I.stacktrace_info.frames,I.stacktrace_info));if(z&&z.length>0){var ae=I.stacktrace_info;if(ifMatch(ae.caption)){this._tempJsonSearchedCache.push(Z);return;}}}if(I.external_call_info){var L=__commonUtils.general.getValue(I.external_call_info.link,I.external_call_info);if(L){var y=I.external_call_info;var K=__commonUtils.general.getValue(y.link_label,y);var M=__commonUtils.general.getValue(y.link_text,y);if(ifMatch(K)||ifMatch(M)||ifMatch(L)){this._tempJsonSearchedCache.push(Z);return;}}}if(I.custom_info){var E=__commonUtils.general.getValue(I.custom_info.image,I.custom_info);if(E){var o=I.custom_info;if(ifMatch(o.caption)){this._tempJsonSearchedCache.push(Z);return;}}}if(I.captured_data){var C=__commonUtils.general.getValue(I.captured_data.html_file,I.captured_data);var e=__commonUtils.general.getValue(I.captured_data.bottom_file,I.captured_data);if(C||e){var h=I.captured_data;var f=__commonUtils.general.getValue(h.caption,h);if(ifMatch(f)){this._tempJsonSearchedCache.push(Z);return;}var B=__commonUtils.general.getValue(h.html_file_content,h);if(ifMatch(B)){this._tempJsonSearchedCache.push(Z);return;}}}if(I.catured_data_as_checkpoint_data){var A=__commonUtils.general.getValue(I.catured_data_as_checkpoint_data.has_data,I.catured_data_as_checkpoint_data);if(A){var k=I.catured_data_as_checkpoint_data;var f=__commonUtils.general.getValue(k.caption,k);if(ifMatch(f)){this._tempJsonSearchedCache.push(Z);return;}}}if(I.checkpoint_data_std_cp||I.checkpoint_data_std_img_cp){var ab=function(aq){if(ifMatch(aq.caption)||ifMatch(aq.label_timeout)||ifMatch(aq.label_props)||ifMatch(aq.head_caption_name)||ifMatch(aq.head_caption_expected)||ifMatch(aq.head_caption_actual)||ifMatch(aq.spec_value_none)||ifMatch(aq.timeout_max)||ifMatch(aq.timeout_used)||ifMatch(aq.timeout_text)){return true;}var an=aq.properties;if(an&&an.length>0){for(var j=0;j<an.length;j++){var al=an[j];if(al){var ap=__commonUtils.general.getValue(al.name,al);var ao=__commonUtils.general.getValue(al.expected,al);var am=__commonUtils.general.getValue(al.actual,al);if(ifMatch(ap)||ifMatch(ao)||ifMatch(am)){return true;}}}}return false;};if(I.checkpoint_data_std_cp){if(ab(I.checkpoint_data_std_cp)){this._tempJsonSearchedCache.push(Z);return;}}else{if(I.checkpoint_data_std_img_cp){if(ab(I.checkpoint_data_std_img_cp)){this._tempJsonSearchedCache.push(Z);return;}}}}if(I.checkpoint_data_std_output||I.checkpoint_data_std_img_output){var ac=function(at){if(ifMatch(at.caption)||ifMatch(at.head_caption_name)||ifMatch(at.head_caption_captured)||ifMatch(at.head_caption_output_type)||ifMatch(at.head_caption_output_name)||ifMatch(at.head_caption_output_error)||ifMatch(at.errorCount)){return true;}var am=at.properties;if(am&&am.length>0){for(var j=0;j<am.length;j++){var al=am[j];if(al){var ap=__commonUtils.general.getValue(al.name,al);var an=__commonUtils.general.getValue(al.captured,al);var ar=__commonUtils.general.getValue(al.outputType,al);var aq=__commonUtils.general.getValue(al.outputName,al);var ao=__commonUtils.general.getValue(al.error,al);if(ifMatch(ap)||ifMatch(an)||ifMatch(ar)||ifMatch(aq)||ifMatch(ao)){return true;}}}}};if(I.checkpoint_data_std_output){if(ac(I.checkpoint_data_std_output)){__fullTextSearchHelper._tempJsonSearchedCache.push(Z);return;}}else{if(I.checkpoint_data_std_img_output){if(ac(I.checkpoint_data_std_img_output)){__fullTextSearchHelper._tempJsonSearchedCache.push(Z);return;}}}}if(I.checkpoint_data_text_cp){var t=I.checkpoint_data_text_cp;if(ifMatch(t.caption)||ifMatch(t.label_timeout)||ifMatch(t.timeout_max)||ifMatch(t.timeout_used)||ifMatch(t.timeout_text)||ifMatch(t.label_compare)||ifMatch(t.expected_text_label)||ifMatch(t.captured_text_label)||ifMatch(t.options_label)||ifMatch(t.expected)||ifMatch(t.actual)||ifMatch(t.text_before)||ifMatch(t.text_after)){__fullTextSearchHelper._tempJsonSearchedCache.push(Z);return true;}}if(I.checkpoint_data_bitmap_cp){var x=__commonUtils.general.getValue(I.checkpoint_data_bitmap_cp.expected_url,I.checkpoint_data_bitmap_cp);var a=__commonUtils.general.getValue(I.checkpoint_data_bitmap_cp.actual_url,I.checkpoint_data_bitmap_cp);if(x||a){var q=I.checkpoint_data_bitmap_cp;if(ifMatch(q.caption)||ifMatch(q.label_timeout)||ifMatch(q.timeout_max)||ifMatch(q.timeout_used)||ifMatch(q.timeout_text)||ifMatch(q.expected_label)||ifMatch(q.actual_label)||ifMatch(q.diff_label)||ifMatch(q.expected_url)||ifMatch(q.actual_url)||ifMatch(q.diff_url)){__fullTextSearchHelper._tempJsonSearchedCache.push(Z);return true;}}}if(I.checkpoint_data_embeddedRes){var aa=__commonUtils.array.makeArray(__commonUtils.general.getValue(I.checkpoint_data_embeddedRes.embeddedRes,I.checkpoint_data_embeddedRes));if(aa&&aa.length>0){var s=I.checkpoint_data_embeddedRes;if(ifMatch(s.caption)||ifMatch(s.head_caption_expected)||ifMatch(s.head_caption_actual)){__fullTextSearchHelper._tempJsonSearchedCache.push(Z);return true;}}}if(I.checkpoint_data_content_compare_cp){var aj=__commonUtils.general.getValue(I.checkpoint_data_content_compare_cp.folder_url,I.checkpoint_data_content_compare_cp);if(aj){var r=I.checkpoint_data_content_compare_cp;if(ifMatch(r.caption)||ifMatch(r.compare_link_label)||ifMatch(r.diff_compare_actual_title)||ifMatch(r.diff_compare_expected_title)){__fullTextSearchHelper._tempJsonSearchedCache.push(Z);return true;}}}if(I.parameters_data&&I.parameters_data.input_params&&I.parameters_data.output_params){var F=__commonUtils.array.makeArray(__commonUtils.general.getValue(I.parameters_data.input_params,I.parameters_data));var S=__commonUtils.array.makeArray(__commonUtils.general.getValue(I.parameters_data.output_params,I.parameters_data));if((F&&F.length>0)||(S&&S.length>0)){var T=I.parameters_data;if(ifMatch(T.caption)||ifMatch(T.input_parameter_label)||ifMatch(T.output_parameter_label)){this._tempJsonSearchedCache.push(Z);return;}}}if(I.context_info){var l=__commonUtils.array.makeArray(__commonUtils.general.getValue(I.context_info.context,I.context_info));if(l&&l.length>0){var n=I.context_info;if(ifMatch(n.caption)){this._tempJsonSearchedCache.push(Z);return;}for(var D=0;D<l.length;D++){var m=l[D];var N=__commonUtils.general.getValue(m.name,m);var v=__commonUtils.general.getValue(m.description,m);if(ifMatch(N)||ifMatch(v)){this._tempJsonSearchedCache.push(Z);return;}}}}if(I.tested_app_info){var c=__commonUtils.array.makeArray(__commonUtils.general.getValue(I.tested_app_info.apps,I.tested_app_info));if(c&&c.length>0){var ag=I.tested_app_info;if(ifMatch(ag.caption)){this._tempJsonSearchedCache.push(Z);return;}for(var D=0;D<c.length;D++){var b=c[D];if(ifMatch(b.name)||ifMatch(b.path)||ifMatch(b.version)||ifMatch(b.runtimeEngine)||ifMatch(b.technology)){this._tempJsonSearchedCache.push(Z);return;}}}}if(I.verification_data){var A=__commonUtils.general.getValue(I.verification_data.has_data,I.verification_data);if(A){var ak=I.verification_data;if(ifMatch(ak.operation_label)||ifMatch(ak.data_label)){this._tempJsonSearchedCache.push(Z);return;}}}if(I.custom_data_sections){var p=__commonUtils.array.makeArray(__commonUtils.general.getValue(I.custom_data_sections.sections,I.custom_data_sections));if(p&&p.length>0){for(var D=0;D<p.length;D++){var f=this._getContent(__commonUtils.general.getValue(p[D].caption,p[D]));var af=this._getContent(__commonUtils.general.getValue(p[D].subCaption,p[D]));if(ifMatch(f)||ifMatch(af)){this._tempJsonSearchedCache.push(Z);return;}}}}};FullTextSearchHelper.prototype.doSearch=function(d,c){if(this._forceRestartSearch||c){this.searchAssistents=[];this.lastSearchAssistentsCount=0;this._processedIndex=-1;this._searchCompleted=false;this._forceRestartSearch=false;}if(!this._parsedCriteria||this._parsedCriteria.length==0){return this;}this._searchCountOneTime=d;if(!d||isNaN(d)||d=="default"){this._searchCountOneTime=20;}else{if(d=="max"){this._searchCountOneTime=-1;}}this.lastSearchAssistentsCount=this.searchAssistents.length;if(!this._searchCompleted){var e=0;while(this._searchCountOneTime<0||e<this._searchCountOneTime){var f=null;var b=this._processedIndex+1;if(b<this._nodeWorkers.length){f=this._nodeWorkers[b];}else{if(b<this._nodeWorkers.length+this._lazyLoadNodeWorkers.length){f=this._lazyLoadNodeWorkers[b-this._nodeWorkers.length];}}if(f){var a=f.getSearchAssistent(this._criteria,this._parsedCriteria,this._caseSensitive);if(a&&a.isMatch&&a.hasHighlight){this.searchAssistents.push(a);}}else{this._searchCompleted=true;break;}this._processedIndex++;e++;}}return this;};FullTextSearchHelper.prototype.tempHideAllNodes=function(b){if(b=="errors_list"){for(var a in this._errListCache){var c=this._errListCache[a];c.hideNode();}}else{if(b=="test_flow"){for(var a in this._nodeTreeCache){var c=this._nodeTreeCache[a];if(c._nodeVisibility){c.hideNode();}}}}};FullTextSearchHelper.prototype.applyHighlights=function(c,d,g){if(this._applyProgressInfo&&this._applyProgressInfo.run){return;}this._applyProgressInfo={run:true,async:c,total:this._nodeWorkers.length+this._lazyLoadNodeWorkers.length+this._tempJsonSearchedCache.length,applied:0,finished:false,asyncCompleteCB:d,asyncTimer:null};if(this._criteria){this.tempHideAllNodes(g);}if(c){var a=new CallbackInfo("fts_apply_highlights");a.register(this,function(){if(this._applyProgressInfo.finished){return;}if(this._applyProgressInfo.applied==this._applyProgressInfo.total){this._applyProgressInfo.run=false;this._applyProgressInfo.finished=true;clearInterval(this._applyProgressInfo.asyncTimer);if(this._applyProgressInfo.asyncCompleteCB){this._applyProgressInfo.asyncCompleteCB.invoke();}return;}var h=this._applyProgressInfo.applied;if(h<this._nodeWorkers.length){this._nodeWorkers[h].applySearchHighlights(this._criteria,this._parsedCriteria,this._caseSensitive);}else{if(h<this._nodeWorkers.length+this._lazyLoadNodeWorkers.length){var i=h-this._nodeWorkers.length;if(i<this._lazyLoadNodeWorkers.length){this._lazyLoadNodeWorkers[i].applySearchHighlights(this._criteria,this._parsedCriteria,this._caseSensitive);}}else{if(h<this._nodeWorkers.length+this._lazyLoadNodeWorkers.length+this._tempJsonSearchedCache.length){var i=h-this._nodeWorkers.length-this._lazyLoadNodeWorkers.length;if(this._criteria){this._applySearchFilter(this._tempJsonSearchedCache[i],g);}else{this._resetSearchFilterByEach(this._tempJsonSearchedCache[i]);}}else{this._tempJsonSearchedCache=[];}}}this._applyProgressInfo.applied++;},"apply_async");var b;var f=__commonUtils.general.getLegacyIEVersion();if(f&&f<=9){b=a;}this._applyProgressInfo.asyncTimer=setInterval(function(h){if(!h&&b){h=b;}for(var j=0;j<300;j++){h.invoke();}},1,a);}else{for(var e=0;e<this._nodeWorkers.length;e++){this._nodeWorkers[e].applySearchHighlights(this._criteria,this._parsedCriteria,this._caseSensitive);}for(var e=0;e<this._lazyLoadNodeWorkers.length;e++){this._lazyLoadNodeWorkers[e].applySearchHighlights(this._criteria,this._parsedCriteria,this._caseSensitive);}for(var e=0;e<this._tempJsonSearchedCache.length;e++){if(this._criteria){this._applySearchFilter(this._tempJsonSearchedCache[e],g);}else{this._resetSearchFilterByEach(this._tempJsonSearchedCache[e]);}}this._tempJsonSearchedCache=[];this._applyProgressInfo.applied=this._applyProgressInfo.total;this._applyProgressInfo.finished=true;this._applyProgressInfo.run=false;}return this;};FullTextSearchHelper.prototype._applyHighlightsForDetailPane=function(){for(var a=0;a<this._nodeWorkers.length;a++){this._nodeWorkers[a].applySearchHighlights(this._criteria,this._parsedCriteria,this._caseSensitive);}};FullTextSearchHelper.prototype._applySearchFilter=function(d,b){var a=__commonUtils.general.getValue(d.detailData.key,d.detailData);var c;if(b=="errors_list"){c=this._errListCache[a];}else{if(b=="test_flow"){c=this._nodeTreeCache[a];}else{return;}}if(c){c.showMatchedNode();}};FullTextSearchHelper.prototype._resetSearchFilter=function(b){for(var a in this._nodeTreeCache){var c;if(b=="errors_list"){c=this._errListCache[dataKey];}else{if(b=="test_flow"){c=this._nodeTreeCache[dataKey];}else{return;}}c.resetNode();}};FullTextSearchHelper.prototype._resetSearchFilterByEach=function(a){a.resetNode();};FullTextSearchHelper.prototype.createSearchableNode=function(j){var l="div";if(j&&j.tag){l=j.tag;}var g=document.createElement(l);var a="ftsch_item";if(j){if(j.type=="auto"){a="ftsch_item_auto";}if(j.className){a+=" "+j.className;}}g.className=a;var d=null;if(j){d=j.id;}if(!d){d=Math.uuid();}g.id=d;var h=null;if(j){h=j.rank;}if(!isNaN(h)){g.setAttribute("data-ftsch-rank",h+"");}var f=false;if(j){f=j.dynamic;}if(f){g.setAttribute("data-ftsch-dynamic","true");}var m=null;if(j){m=j.unmatchHideUIId;}if(m){if(typeof m==="string"){g.setAttribute("data-ftsch-unmatch-hide-ui-id",m);}else{for(var c=0;c<m.length;c++){if(c==0){g.setAttribute("data-ftsch-unmatch-hide-ui-id",m[c]);}else{var e="data-ftsch-unmatch-hide-ui-id"+(c+1);g.setAttribute(e,m[c]);}}}}var k=false;if(j){k=j.skipSearch;}if(k){g.setAttribute("data-ftsch-skip-search","true");}var b=null;if(j){b=j.content;}if(b){if(typeof b==="string"){g.innerHTML=b;}else{if(b.ownerDocument&&b.ownerDocument===g.ownerDocument){g.appendChild(b);}}}return g;};FullTextSearchHelper.prototype.skipSearch=function(a,b){if(a){node.setAttribute("data-ftsch-skip-search",b?"true":"false");}return this;};FullTextSearchHelper.prototype.getSearchApplyProgressInfo=function(){return this._applyProgressInfo;};FullTextSearchHelper.prototype.getTotalSearchableNodeCount=function(){return this._nodeWorkers.length+this._lazyLoadNodeWorkers.length;};var __fullTextSearchHelper=new FullTextSearchHelper();