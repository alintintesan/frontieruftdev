function ReportDataArea(b,a){this._cssNames={reportDataArea:"report-data-area",leftPaneWrapper:"left-pane-wrapper",leftPane:"left-pane",rightPaneWrapper:"right-pane-wrapper",rightPane:"right-pane"};this._defaultValues={defPreferredWidthFactor:0.35,defLeftPaneMinWidthFactor:0.35,defRightPaneMinWidthFactor:0.65};this._dataModel=a;this._pageMinWidth=b;this._reportDataArea=__uiElements.create_div().addClassNames(this._cssNames.reportDataArea);this._leftPaneWrapper=this._createLeftPane().appendTo(this._reportDataArea);this._rightPaneWrapper=this._createRightPane().appendTo(this._reportDataArea);__callbackCenter.registerCallback("layout_leftpane_after_resize",this,this._onLeftPaneResized);}ReportDataArea.prototype._getCurrentPageWidth=function(){return document.body.clientWidth;};ReportDataArea.prototype._getPaneCurrentPreferredWidth=function(b,d){var a=(d&&d>=0&&d<=1)?d:this._defaultValues.defPreferredWidthFactor;var c=parseInt(this._getCurrentPageWidth()*a);if(isNaN(c)||c<b){c=b;}return c;};ReportDataArea.prototype._getLeftPaneMinWidth=function(){return parseInt(this._pageMinWidth*this._defaultValues.defLeftPaneMinWidthFactor);};ReportDataArea.prototype._getRightPaneMinWidth=function(){return this._pageMinWidth-this._getLeftPaneMinWidth();};ReportDataArea.prototype._getLeftPaneCurrentMaxWidth=function(){var a=this._getPaneCurrentPreferredWidth(this._getRightPaneMinWidth());return this._getCurrentPageWidth()-a;};ReportDataArea.prototype._createLeftPane=function(){var a=this._getPaneCurrentPreferredWidth(this._getLeftPaneMinWidth());var d=new ElementResizeSettings();d.setGrabOffsetForEdges(0,8,0,0);d.setResizeBound(this._getLeftPaneMinWidth(),new CallbackInfo().register(this,function(e){if(e){e.retval=this._getLeftPaneCurrentMaxWidth();}}));d.afterResized=function(){__callbackCenter.invokeCallbacks("layout_leftpane_after_resize");};var c=__uiElements.create_div().addClassNames(this._cssNames.leftPaneWrapper).setWidth(a).enableResizing(d);var b=__uiElements.create_div().addClassNames(this._cssNames.leftPane).appendTo(c);this._functionalStrip=new FunctionalStrip(this._dataModel).show(b);this._errorlistPane=new ErrorListPane(this._dataModel).show(b);this._testflowPane=new TestFlowPane(this._dataModel).show(b,true);__callbackCenter.registerCallback("act_search_text_changed",this,function(){if(!this._errorlistPane.hasContent()){this._functionalStrip.activateTestFlowNavCap();}});return c;};ReportDataArea.prototype._createRightPane=function(){var b=__uiElements.create_div().addClassNames(this._cssNames.rightPaneWrapper);var a=__uiElements.create_div().addClassNames(this._cssNames.rightPane).appendTo(b);this._detailsPane=new DetailsPane(this._dataModel);this._systemMonitorPane=new SystemMonitorPane(this._dataModel);this._createTabs(a);this._detailsPane.show(a);this._systemMonitorPane.show(a);return b;};ReportDataArea.prototype._createTabs=function(f){var g=__commonUtils.general.getValue(this._dataModel.system_monitor_link_url,this._dataModel);if(g&&typeof monitorData!="undefined"&&monitorData){this._switchTab=__uiElements.create_ul().setId("panel_tab").addClassNames("nav nav-tabs").appendTo(f);var d=__uiElements.add_list_item(this._switchTab).addClassNames("active"),e=__uiElements.add_list_item(this._switchTab);var a=__uiElements.create_link().setInnerHTML(__res.get("details_panes_title","Details")).appendTo(d),b=__uiElements.create_link().setInnerHTML(__res.get("system_monitor_title","System Monitor")).appendTo(e);var c={li0:d,li1:e,detail_pane:this._detailsPane._paneWrapper,system_monitor:this._systemMonitorPane};d.setCustomProperty("cusobj",c).addEventListener("click",function(){var h=__uiElements.get_custom_prop(this,"cusobj");h.li0.addClassNames("active");h.detail_pane.addClassNames("active");h.system_monitor._paneWrapper.removeClassNames("active");h.li1.removeClassNames("active");});e.setCustomProperty("cusobj",c).addEventListener("click",function(){var i=__uiElements.get_custom_prop(this,"cusobj");i.li0.removeClassNames("active");i.detail_pane.removeClassNames("active");i.system_monitor._paneWrapper.addClassNames("active");i.li1.addClassNames("active");if(!document.getElementById("svg_lsm")){var h=__uiElements.create_div().addClassNames("emb-loading-chart").setInnerHTML(__res.get("chart_loading_text","Chart is loading now..."));h.appendTo(i.system_monitor._paneWrapper);setTimeout(function(){i.system_monitor.addGraph(function(){h.removeFrom(i.system_monitor._paneWrapper);var l=document.getElementById("svg_lsm"),j=document.getElementsByClassName("nv-focus")[0],k=document.getElementsByClassName("nv-series")[0];l.clientHeight=j.getBBox().height+2*k,j.getBBox().height+"px";i.system_monitor.notifyInitialized();});},10);}else{i.system_monitor.updateLayout(i.system_monitor._paneWrapper.getHeight());}});}};ReportDataArea.prototype._updateRightPaneLayout=function(){if(this._leftPaneWrapper&&this._rightPaneWrapper){var a=this._leftPaneWrapper.getWidth();this._rightPaneWrapper.setMargin(null,null,null,a);if(this._switchTab){var b=this._rightPaneWrapper.getHeight()-this._switchTab.getHeight()-1;this._detailsPane._paneWrapper.setHeight(b);this._systemMonitorPane.updateLayout(b);this._detailsPane._updateUILayout();}}return this;};ReportDataArea.prototype._updateFunctionalStripLayout=function(){if(this._functionalStrip){var c=this._functionalStrip.updateLayout();var b=4;var a=this._leftPaneWrapper.getWidth();if(a<c+b){this._leftPaneWrapper.setWidth(c+b);}}return this;};ReportDataArea.prototype._onLeftPaneResized=function(){this._updateFunctionalStripLayout();this._updateRightPaneLayout();return this;};ReportDataArea.prototype.show=function(a){if(a){this._reportDataArea.appendTo(a);if(!this._dataModel.errlist_abstract_items||this._dataModel.errlist_abstract_items.length==0){this._functionalStrip.activateTestFlowNavCap();}else{this._errorlistPane.updateAbstractItemList();}}return this;};ReportDataArea.prototype.updateLayout=function(b){if(this._leftPaneWrapper){var c=this._leftPaneWrapper.getWidth();var e=this._getLeftPaneMinWidth();var d=this._getLeftPaneCurrentMaxWidth();var a=c/this._getCurrentPageWidth();if(a<this._defaultValues.defPreferredWidthFactor){a=this._defaultValues.defPreferredWidthFactor;}var f=this._getCurrentPageWidth()*a;if(c<e){f=e;}else{if(c>d){f=d;}}if(f!=c){this._leftPaneWrapper.setWidth(f);}this._updateFunctionalStripLayout();if(this._testflowPane._maxIndent>c){this._testflowPane._pane.setWidth(c+this._testflowPane._maxIndent);}}if(!isNaN(b)&&b>=0){this._reportDataArea.setHeight(b);}this._updateRightPaneLayout();return this;};