function DetailsPane(b){var a={paneWrapper:"detail-pane-wrapper tab-pane active"};this._dataModel=b;this._paneWrapper=__uiElements.create_div().setId("detail_pane_wrapper").addClassNames(a.paneWrapper);__callbackCenter.registerCallback("act_abstract_item_after_deactivated",this,this._unloadContent);__callbackCenter.registerCallback("act_abstract_item_after_activated",this,this._loadContent);__callbackCenter.registerCallback("act_test_flow_node_after_deactivated",this,this._unloadContent);__callbackCenter.registerCallback("act_test_flow_node_after_activated",this,this._loadContent);__callbackCenter.registerCallback("window_onresize",this,this._updateUILayout);__callbackCenter.registerCallback("layout_leftpane_after_resize",this,this._updateUILayout);__callbackCenter.registerCallback("window_loaded",this,this._updateUILayout);}DetailsPane.uiViewObjectIdPrefix="item_detail_pane_";DetailsPane.createUIViewObjects=function(B,t){if(!B||!t){return;}var j={pane:"detail-pane",captionBar:"caption-bar",captionBarLabel:"caption-label",detailSectionsWrapper:"detail-sections-wrapper",detailSections:"detail-sections"};var l=__commonUtils.general.getValue(B.key,B);var N=__commonUtils.general.getValue(B.status,B);var P=DetailsPane.uiViewObjectIdPrefix;var L=300;var q="err_absitem_"+l;var O="testflow_node_"+l;var z=N=="error";var A=N=="warning";var p={pane:null,sections:[]};var E=__uiElements.create_div().addClassNames(j.pane);p.pane=E;var g=__uiElements.create_div();var f={fullDataModel:t,detailData:B,parent:g,defaultSearchSupport:true,search:{uiIdPrefix:P+"caption_"+l,unmatchHideUIId:[q,O],rank:L}};var J=__defaultRenders.keys["DetailsPane.Caption"];if(!__reportExtension.executeExternalRenders(J,f)){__defaultRenders.execute(J,f);}if(f.defaultSearchSupport){var K=__fullTextSearchHelper.createSearchableNode({id:f.search.uiIdPrefix,content:g.e,unmatchHideUIId:f.search.unmatchHideUIId,rank:f.search.rank});__fullTextSearchHelper.addSearchableNodes([K]);__uiElements.get_wrapper(K).appendTo(E);}else{g.appendTo(E);}var o=__uiElements.create_div().addClassNames(j.detailSectionsWrapper).appendTo(E);var n=__uiElements.create_div().addClassNames(j.detailSections).appendTo(o);var M={itemDetailData:B,itemDataKey:l,fullDataModel:t,pane:E,sections:n,searchRankBase:L,searchUnmatchHideUIIds:[q,O]};p.sections.push(new DetailOverviewSection(B.overview,M));if(B.smart_identification_info){var G=__commonUtils.general.getValue(B.smart_identification_info.BaseProperties,B.smart_identification_info);var H=__commonUtils.general.getValue(B.smart_identification_info.OptionalProperties,B.smart_identification_info);if((G&&G.length>0)||(H&&H.length>0)){p.sections.push(new DetailSmartIdentificationSection(B.smart_identification_info,M));}}var b=false;if(B.ai_info){b=__commonUtils.general.getValue(B.ai_info.enabled,B.ai_info);}if(B.ai_info&&B.test_obj_info){var m=__commonUtils.general.getValue(B.test_obj_info.descriptive,B.test_obj_info);if(b){p.sections.push(new DetailAISection(B.ai_info,B.test_obj_info,N,M));}}if(B.test_obj_info&&!b){var F=__commonUtils.array.makeArray(__commonUtils.general.getValue(B.test_obj_info.paths,B.test_obj_info));var d=__commonUtils.general.getValue(B.test_obj_info.app_model,B.test_obj_info);var m=__commonUtils.general.getValue(B.test_obj_info.descriptive,B.test_obj_info);if((F&&F.length>0)||d||m){p.sections.push(new DetailTestObjectSection(B.test_obj_info,M));}}if(B.stacktrace_info){var s=__commonUtils.array.makeArray(__commonUtils.general.getValue(B.stacktrace_info.frames,B.stacktrace_info));if(s&&s.length>0){p.sections.push(new DetailStacktraceSection(B.stacktrace_info,M));}}if(B.external_call_info){var C=__commonUtils.general.getValue(B.external_call_info.link,B.external_call_info);if(C){p.sections.push(new DetailExternalCallSection(B.external_call_info,M));}}if(B.custom_info){var x=__commonUtils.general.getValue(B.custom_info.image,B.custom_info);if(x){p.sections.push(new DetailCustomInfoSection(B.custom_info,M));}}if(B.captured_data){var v=__commonUtils.general.getValue(B.captured_data.html_file,B.captured_data);var e=__commonUtils.general.getValue(B.captured_data.bottom_file,B.captured_data);if(v||e){p.sections.push(new DetailCapturedInfoSection(B.captured_data,M));}}if(B.catured_data_as_checkpoint_data){var u=__commonUtils.general.getValue(B.catured_data_as_checkpoint_data.has_data,B.catured_data_as_checkpoint_data);if(u){p.sections.push(new DetailCapturedInfoSection(B.catured_data_as_checkpoint_data,M));}}if(B.checkpoint_data_std_cp){p.sections.push(new DetailStdCheckpointSection(B.checkpoint_data_std_cp,M));}else{if(B.checkpoint_data_std_img_cp){p.sections.push(new DetailStdCheckpointSection(B.checkpoint_data_std_img_cp,M));}}if(B.checkpoint_data_std_output){p.sections.push(new DetailStdOutputSection(B.checkpoint_data_std_output,M));}else{if(B.checkpoint_data_std_img_output){p.sections.push(new DetailStdOutputSection(B.checkpoint_data_std_img_output,M));}}if(B.checkpoint_data_text_cp){p.sections.push(new DetailTextCheckpointSection(B.checkpoint_data_text_cp,M));}if(B.checkpoint_data_bitmap_cp){var r=__commonUtils.general.getValue(B.checkpoint_data_bitmap_cp.expected_url,B.checkpoint_data_bitmap_cp);var a=__commonUtils.general.getValue(B.checkpoint_data_bitmap_cp.actual_url,B.checkpoint_data_bitmap_cp);if(r||a){p.sections.push(new DetailBitmapCheckpointSection(B.checkpoint_data_bitmap_cp,M));}}if(B.checkpoint_data_embeddedRes){var I=__commonUtils.array.makeArray(__commonUtils.general.getValue(B.checkpoint_data_embeddedRes.embeddedRes,B.checkpoint_data_embeddedRes));if(I&&I.length>0){p.sections.push(new DetailEmbedResCheckpointSection(B.checkpoint_data_embeddedRes,M));}}if(B.checkpoint_data_content_compare_cp){var Q=__commonUtils.general.getValue(B.checkpoint_data_content_compare_cp.folder_url,B.checkpoint_data_content_compare_cp);if(Q){p.sections.push(new DetailFileContentCheckpointSection(B.checkpoint_data_content_compare_cp,M));}}if(B.parameters_data){var y=__commonUtils.array.makeArray(__commonUtils.general.getValue(B.parameters_data.input_params,B.parameters_data));var D=__commonUtils.array.makeArray(__commonUtils.general.getValue(B.parameters_data.output_params,B.parameters_data));if((y&&y.length>0)||(D&&D.length>0)){p.sections.push(new DetailParametersSection(B.parameters_data,M));}}if(B.context_info){var h=__commonUtils.array.makeArray(__commonUtils.general.getValue(B.context_info.context,B.context_info));if(h&&h.length>0){p.sections.push(new DetailContextInfoSection(B.context_info,M));}}if(B.tested_app_info){var c=__commonUtils.array.makeArray(__commonUtils.general.getValue(B.tested_app_info.apps,B.tested_app_info));if(c&&c.length>0){p.sections.push(new DetailTestedAppsSection(B.tested_app_info,M));}}if(B.verification_data){var u=__commonUtils.general.getValue(B.verification_data.has_data,B.verification_data);if(u){p.sections.push(new DetailVerificationSection(B.verification_data,M));}}if(B.custom_data_sections){var k=__commonUtils.array.makeArray(__commonUtils.general.getValue(B.custom_data_sections.sections,B.custom_data_sections));if(k&&k.length>0){for(var w=0;w<k.length;w++){p.sections.push(new DetailFullCustomDataSection(k[w],M));}}}return p;};DetailsPane.prototype.show=function(a){if(a){this._paneWrapper.appendTo(a);}return this;};DetailsPane.prototype._unloadContent=function(){__fullTextSearchHelper._nodeWorkers=[];if(this._detailUIViewObject&&this._detailUIViewObject.pane){this._detailUIViewObject.pane.removeFrom(this._paneWrapper);}this._detailUIViewObject=null;this._paneWrapper.setInnerHTML("");return this;};DetailsPane.prototype._loadContent=function(a,c,b){this._unloadContent();if(c){var d=DetailsPane.uiViewObjectIdPrefix+c;this._detailUIViewObject=__uiViewObjectsCenter.getUIViewObject(d);if(!this._detailUIViewObject){this._detailUIViewObject=DetailsPane.createUIViewObjects(b,this._dataModel);}if(this._detailUIViewObject&&this._detailUIViewObject.pane){this._detailUIViewObject.pane.appendTo(this._paneWrapper);this._dynamicUpdateView(this._detailUIViewObject.sections);}this._updateUILayout();}return this;};DetailsPane.prototype._dynamicUpdateView=function(d){if(!d){return;}var a=0;var b=d.length;var c=setInterval(function(){var e=a<b?d[a]:undefined;if(!e){clearInterval(c);__fullTextSearchHelper._applyHighlightsForDetailPane();return;}if(e._initialize&&__commonUtils.general.isFunction(e._initialize)){e._initialize();}a++;},1);};DetailsPane.prototype._updateUILayout=function(){if(this._detailUIViewObject&&this._detailUIViewObject.sections){for(var a=0;a<this._detailUIViewObject.sections.length;a++){var b=this._detailUIViewObject.sections[a];if(b.updateUILayout&&__commonUtils.general.isFunction(b.updateUILayout)){b.updateUILayout.apply(b);}}}return this;};function DetailsPaneCaptionRenderer(a){this._cssNames={captionBar:"caption-bar",captionBarLabel:"caption-label"};this._captionContentHTML=a;}DetailsPaneCaptionRenderer.prototype.render=function(c){if(c){var b=__uiElements.create_div().addClassNames(this._cssNames.captionBar).appendTo(c);var a=__uiElements.create_div().addClassNames(this._cssNames.captionBarLabel).appendTo(b);if(this._captionContentHTML){a.setInnerHTML(this._captionContentHTML);}}};(function(){__defaultRenders.add(__defaultRenders.keys["DetailsPane.Caption"],function(f){if(!f){return;}var b=f.fullDataModel;var d=f.detailData;var e=f.parent;if(!b||!d||!e){return;}var a;var c=__commonUtils.general.getValue(d.fixed_title,d);if(!c){var g=__commonUtils.general.getValue(d.status,d);if(g=="error"){a=__commonUtils.general.getValue(b.detailspane_caption_error,b);}else{if(g=="warning"){a=__commonUtils.general.getValue(b.detailspane_caption_warning,b);}}}if(!a){a=__commonUtils.general.getValue(d.title,d);}if(!a){a=__commonUtils.general.getValue(b.detailspane_caption,b);}new DetailsPaneCaptionRenderer(a).render(e);});})();