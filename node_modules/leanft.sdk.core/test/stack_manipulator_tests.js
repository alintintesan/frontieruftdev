// (c) Copyright 2015 - 2023 Micro Focus or one of its affiliates..
/*
 * Created on 31/12/2015.
 */

var assert = require("assert");
var StackManipulator = require("../lib/stack_manipulator.js").StackManipulator;

describe("StackManipulator unit tests", function() {
    describe("removeFromTop", function() {
        it("should not modify the header line", function() {
            var res = StackManipulator.removeFromTop("header\nline1\nline2", 1);
            assert.strictEqual(res.split("\n")[0], "header");
        });

        it("should not modify the stack if nofLinesToRemove is 0", function() {
            var res = StackManipulator.removeFromTop("header\nline1\nline2", 0);
            assert.strictEqual(res, "header\nline1\nline2");
        });

        it("should remove nofLinesToRemove when nofLinesToRemove < nofLines after header", function() {
            var res = StackManipulator.removeFromTop("header\nline1\nline2", 1);
            assert.strictEqual(res, "header\nline2");
        });

        it("should remove all lines after header when nofLinesToRemove > nofLines after header", function() {
            var res = StackManipulator.removeFromTop("header\nline1\nline2", 10);
            assert.strictEqual(res, "header");
        });
    });
});