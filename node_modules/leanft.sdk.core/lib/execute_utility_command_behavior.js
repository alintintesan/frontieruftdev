// (c) Copyright 2015 - 2023 Micro Focus or one of its affiliates..
var ArrayUtils = require("./object_utils.js").ArrayUtils;

var ExecuteUtilityCommandBehavior = {
    _executeUtilityCommand: function(commandType, methodName){

        // Remove the first two arguments since they are the command type and methodName
        var args = ArrayUtils.toArray(arguments);
        args.splice(0,2);

        var msg = {
            type: commandType,
            Operation: methodName,
            Parameters: args
        };

        return this._session._communication.send("ExecuteUtilityObjectCommand", msg).then(function() {
        }.bind(this), this.handleReplayError.bind(this));
    },
};

module.exports = ExecuteUtilityCommandBehavior;