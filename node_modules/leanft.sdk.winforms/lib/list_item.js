// (c) Copyright 2015 - 2023 Micro Focus or one of its affiliates..
/*
 * Created on 08/25/2016.
 */
var Core = require("leanft.sdk.core");
var ListItemBaseBehavior = Core.ListItemBaseBehavior;
var ObjectUtils = Core.ObjectUtils;
var MergeBehavior = Core.MergeBehavior;

/**
 * ListItemBehavior - the behavior for a ListItem object of WinForms
 * @ignore
 */
var ListItemBehavior = {
    /**
     * @memberof WinForms.ListItemBehavior
     * @ignore
     */
    _properties: {
        /**
         * Indicates whether the list item is an anchor item (the item from which a multiple selection span starts).
         * @returns {Promise<boolean>} a promise fulfilled with the indication whether the item is an anchor item or not.
         */
        isAnchor: function () {
            return this._executeWithEventsOnItemOnError(this._ownerListBox._isItemAnchor, this._identifier);
        },

        /**
         * Indicates whether the list item is checked.
         * @returns {Promise<boolean>} a promise fulfilled with the indication whether the item is checked or not.
         */
        isChecked: function () {
            return this._executeWithEventsOnItemOnError(this._ownerListBox._isItemChecked, this._identifier);
        }
    }
};

/**
 * A List Item object
 * @constructor
 * @class ListItem
 * @mixes ListItemBaseBehavior._properties
 * @mixes ListItemBaseBehavior._methods
 * @mixes WinForms.ListItemBehavior._properties
 * @mixes WinForms.ListItemBehavior._methods
 * @memberof WinForms
 */
function ListItem(ownerListBox, identifier, textRepresentation) {
    ObjectUtils.extend(this, MergeBehavior);
    this._mergeBehavior(ListItemBaseBehavior);
    this._mergeBehavior(ListItemBehavior);
    this._ownerListBox = ownerListBox;
    this._identifier = identifier;
    this._textRepresentation = textRepresentation;
    this._executeWithEventsOnItem = this._ownerListBox._executeWithEventsOnItem.bind(this._ownerListBox, this);
    this._executeWithEventsOnItemOnError = this._ownerListBox._executeWithEventsOnItemOnError.bind(this._ownerListBox, this);
}

module.exports.ListItem = ListItem;
