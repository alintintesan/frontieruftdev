// (c) Copyright 2015 - 2023 Micro Focus or one of its affiliates..
/*
 * Created on 08/25/2016.
 */

var assert = require("assert");
var sinon = require("sinon");
var Core = require("leanft.sdk.core");

describe("CalendarTO Tests", function () {
    var CalendarTO = require("../lib/calendar.js").CalendarTO;
    var calendarTOUnderTest = null;

    beforeEach(function () {
        calendarTOUnderTest = new CalendarTO();
        sinon.stub(calendarTOUnderTest, "_executeWithEventsOnError");
    });

    describe("errorText method", function () {
        it("should return the execution promise", function () {
            var executionPromise = {};
            calendarTOUnderTest._executeWithEventsOnError.returns(executionPromise);
            var res = calendarTOUnderTest.errorText();
            assert.equal(res, executionPromise);
        });

        it("should execute _executeWithEvents 'GetErrorProviderText'", function () {
            calendarTOUnderTest.errorText();
            sinon.assert.calledOnce(calendarTOUnderTest._executeWithEventsOnError);
            sinon.assert.calledWith(calendarTOUnderTest._executeWithEventsOnError, sinon.match({}), "GetErrorProviderText");
        });
    });
});
